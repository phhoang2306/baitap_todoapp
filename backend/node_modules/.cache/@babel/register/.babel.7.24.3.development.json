{"{\"assumptions\":{},\"sourceRoot\":\"E:\\\\Work\\\\baitap_todoapp\\\\backend\\\\src\\\\\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"E:\\\\Work\\\\baitap_todoapp\\\\backend\",\"filename\":\"E:\\\\Work\\\\baitap_todoapp\\\\backend\\\\src\\\\index.js\",\"targets\":{},\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"browserslistConfigFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"E:\\\\Work\\\\baitap_todoapp\\\\backend\",\"rootMode\":\"root\",\"plugins\":[],\"presets\":[]}:7.24.3:development":{"value":{"code":"const mongoose = require('mongoose');\nconst app = require('./app');\nconst config = require('./config/config');\nlet server;\n// Connect DB\nmongoose.connect(config.mongoose.url).then(() => {\n  console.log('Connected to MongoDB');\n  server = app.listen(config.port, () => {\n    console.log(`Server is listening on port ${config.port}`);\n  });\n});\n\n// Close Server\nconst exitHandler = () => {\n  if (!server) {\n    server.close(() => {\n      console.log('Server closed');\n      process.exit(1);\n    });\n  } else {\n    process.exit(1);\n  }\n};\nconst unexpectedErrorHandler = error => {\n  console.log(error);\n  exitHandler();\n};\nprocess.on('uncaughtException', unexpectedErrorHandler);\nprocess.on('unhandledRejection', unexpectedErrorHandler);\nprocess.on('SIGTERM', () => {\n  console.log('server out');\n  if (server) {\n    server.close();\n  }\n});\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJtb25nb29zZSIsInJlcXVpcmUiLCJhcHAiLCJjb25maWciLCJzZXJ2ZXIiLCJjb25uZWN0IiwidXJsIiwidGhlbiIsImNvbnNvbGUiLCJsb2ciLCJsaXN0ZW4iLCJwb3J0IiwiZXhpdEhhbmRsZXIiLCJjbG9zZSIsInByb2Nlc3MiLCJleGl0IiwidW5leHBlY3RlZEVycm9ySGFuZGxlciIsImVycm9yIiwib24iXSwic291cmNlUm9vdCI6IkU6XFxXb3JrXFxiYWl0YXBfdG9kb2FwcFxcYmFja2VuZFxcc3JjXFwiLCJzb3VyY2VzIjpbImluZGV4LmpzIl0sInNvdXJjZXNDb250ZW50IjpbImNvbnN0IG1vbmdvb3NlID0gcmVxdWlyZSgnbW9uZ29vc2UnKTtcclxuY29uc3QgYXBwID0gcmVxdWlyZSgnLi9hcHAnKTtcclxuY29uc3QgY29uZmlnID0gcmVxdWlyZSgnLi9jb25maWcvY29uZmlnJyk7XHJcblxyXG5sZXQgc2VydmVyO1xyXG4vLyBDb25uZWN0IERCXHJcbm1vbmdvb3NlLmNvbm5lY3QoY29uZmlnLm1vbmdvb3NlLnVybCkudGhlbigoKSA9PiB7XHJcbiAgICBjb25zb2xlLmxvZygnQ29ubmVjdGVkIHRvIE1vbmdvREInKTtcclxuICAgIHNlcnZlciA9IGFwcC5saXN0ZW4oY29uZmlnLnBvcnQsICgpID0+e1xyXG4gICAgICAgIGNvbnNvbGUubG9nKGBTZXJ2ZXIgaXMgbGlzdGVuaW5nIG9uIHBvcnQgJHtjb25maWcucG9ydH1gKVxyXG4gICAgfSlcclxufSlcclxuXHJcbi8vIENsb3NlIFNlcnZlclxyXG5jb25zdCBleGl0SGFuZGxlciA9ICgpID0+IHtcclxuICBpZiAoIXNlcnZlcikge1xyXG4gICAgc2VydmVyLmNsb3NlKCgpID0+IHtcclxuICAgICAgY29uc29sZS5sb2coJ1NlcnZlciBjbG9zZWQnKTtcclxuICAgICAgcHJvY2Vzcy5leGl0KDEpO1xyXG4gICAgfSk7XHJcbiAgfSBlbHNlIHtcclxuICAgIHByb2Nlc3MuZXhpdCgxKTtcclxuICB9XHJcbn07XHJcbmNvbnN0IHVuZXhwZWN0ZWRFcnJvckhhbmRsZXIgPSAoZXJyb3IpID0+IHtcclxuICBjb25zb2xlLmxvZyhlcnJvcilcclxuICBleGl0SGFuZGxlcigpO1xyXG59O1xyXG5cclxucHJvY2Vzcy5vbigndW5jYXVnaHRFeGNlcHRpb24nLCB1bmV4cGVjdGVkRXJyb3JIYW5kbGVyKTtcclxucHJvY2Vzcy5vbigndW5oYW5kbGVkUmVqZWN0aW9uJywgdW5leHBlY3RlZEVycm9ySGFuZGxlcik7XHJcblxyXG5wcm9jZXNzLm9uKCdTSUdURVJNJywgKCkgPT4ge1xyXG4gIGNvbnNvbGUubG9nKCdzZXJ2ZXIgb3V0JylcclxuICBpZiAoc2VydmVyKSB7XHJcbiAgICBzZXJ2ZXIuY2xvc2UoKTtcclxuICB9XHJcbn0pOyJdLCJtYXBwaW5ncyI6IkFBQUEsTUFBTUEsUUFBUSxHQUFHQyxPQUFPLENBQUMsVUFBVSxDQUFDO0FBQ3BDLE1BQU1DLEdBQUcsR0FBR0QsT0FBTyxDQUFDLE9BQU8sQ0FBQztBQUM1QixNQUFNRSxNQUFNLEdBQUdGLE9BQU8sQ0FBQyxpQkFBaUIsQ0FBQztBQUV6QyxJQUFJRyxNQUFNO0FBQ1Y7QUFDQUosUUFBUSxDQUFDSyxPQUFPLENBQUNGLE1BQU0sQ0FBQ0gsUUFBUSxDQUFDTSxHQUFHLENBQUMsQ0FBQ0MsSUFBSSxDQUFDLE1BQU07RUFDN0NDLE9BQU8sQ0FBQ0MsR0FBRyxDQUFDLHNCQUFzQixDQUFDO0VBQ25DTCxNQUFNLEdBQUdGLEdBQUcsQ0FBQ1EsTUFBTSxDQUFDUCxNQUFNLENBQUNRLElBQUksRUFBRSxNQUFLO0lBQ2xDSCxPQUFPLENBQUNDLEdBQUcsQ0FBRSwrQkFBOEJOLE1BQU0sQ0FBQ1EsSUFBSyxFQUFDLENBQUM7RUFDN0QsQ0FBQyxDQUFDO0FBQ04sQ0FBQyxDQUFDOztBQUVGO0FBQ0EsTUFBTUMsV0FBVyxHQUFHQSxDQUFBLEtBQU07RUFDeEIsSUFBSSxDQUFDUixNQUFNLEVBQUU7SUFDWEEsTUFBTSxDQUFDUyxLQUFLLENBQUMsTUFBTTtNQUNqQkwsT0FBTyxDQUFDQyxHQUFHLENBQUMsZUFBZSxDQUFDO01BQzVCSyxPQUFPLENBQUNDLElBQUksQ0FBQyxDQUFDLENBQUM7SUFDakIsQ0FBQyxDQUFDO0VBQ0osQ0FBQyxNQUFNO0lBQ0xELE9BQU8sQ0FBQ0MsSUFBSSxDQUFDLENBQUMsQ0FBQztFQUNqQjtBQUNGLENBQUM7QUFDRCxNQUFNQyxzQkFBc0IsR0FBSUMsS0FBSyxJQUFLO0VBQ3hDVCxPQUFPLENBQUNDLEdBQUcsQ0FBQ1EsS0FBSyxDQUFDO0VBQ2xCTCxXQUFXLENBQUMsQ0FBQztBQUNmLENBQUM7QUFFREUsT0FBTyxDQUFDSSxFQUFFLENBQUMsbUJBQW1CLEVBQUVGLHNCQUFzQixDQUFDO0FBQ3ZERixPQUFPLENBQUNJLEVBQUUsQ0FBQyxvQkFBb0IsRUFBRUYsc0JBQXNCLENBQUM7QUFFeERGLE9BQU8sQ0FBQ0ksRUFBRSxDQUFDLFNBQVMsRUFBRSxNQUFNO0VBQzFCVixPQUFPLENBQUNDLEdBQUcsQ0FBQyxZQUFZLENBQUM7RUFDekIsSUFBSUwsTUFBTSxFQUFFO0lBQ1ZBLE1BQU0sQ0FBQ1MsS0FBSyxDQUFDLENBQUM7RUFDaEI7QUFDRixDQUFDLENBQUMiLCJpZ25vcmVMaXN0IjpbXX0=","map":{"version":3,"names":["mongoose","require","app","config","server","connect","url","then","console","log","listen","port","exitHandler","close","process","exit","unexpectedErrorHandler","error","on"],"sourceRoot":"E:\\Work\\baitap_todoapp\\backend\\src\\","sources":["index.js"],"sourcesContent":["const mongoose = require('mongoose');\r\nconst app = require('./app');\r\nconst config = require('./config/config');\r\n\r\nlet server;\r\n// Connect DB\r\nmongoose.connect(config.mongoose.url).then(() => {\r\n    console.log('Connected to MongoDB');\r\n    server = app.listen(config.port, () =>{\r\n        console.log(`Server is listening on port ${config.port}`)\r\n    })\r\n})\r\n\r\n// Close Server\r\nconst exitHandler = () => {\r\n  if (!server) {\r\n    server.close(() => {\r\n      console.log('Server closed');\r\n      process.exit(1);\r\n    });\r\n  } else {\r\n    process.exit(1);\r\n  }\r\n};\r\nconst unexpectedErrorHandler = (error) => {\r\n  console.log(error)\r\n  exitHandler();\r\n};\r\n\r\nprocess.on('uncaughtException', unexpectedErrorHandler);\r\nprocess.on('unhandledRejection', unexpectedErrorHandler);\r\n\r\nprocess.on('SIGTERM', () => {\r\n  console.log('server out')\r\n  if (server) {\r\n    server.close();\r\n  }\r\n});"],"mappings":"AAAA,MAAMA,QAAQ,GAAGC,OAAO,CAAC,UAAU,CAAC;AACpC,MAAMC,GAAG,GAAGD,OAAO,CAAC,OAAO,CAAC;AAC5B,MAAME,MAAM,GAAGF,OAAO,CAAC,iBAAiB,CAAC;AAEzC,IAAIG,MAAM;AACV;AACAJ,QAAQ,CAACK,OAAO,CAACF,MAAM,CAACH,QAAQ,CAACM,GAAG,CAAC,CAACC,IAAI,CAAC,MAAM;EAC7CC,OAAO,CAACC,GAAG,CAAC,sBAAsB,CAAC;EACnCL,MAAM,GAAGF,GAAG,CAACQ,MAAM,CAACP,MAAM,CAACQ,IAAI,EAAE,MAAK;IAClCH,OAAO,CAACC,GAAG,CAAE,+BAA8BN,MAAM,CAACQ,IAAK,EAAC,CAAC;EAC7D,CAAC,CAAC;AACN,CAAC,CAAC;;AAEF;AACA,MAAMC,WAAW,GAAGA,CAAA,KAAM;EACxB,IAAI,CAACR,MAAM,EAAE;IACXA,MAAM,CAACS,KAAK,CAAC,MAAM;MACjBL,OAAO,CAACC,GAAG,CAAC,eAAe,CAAC;MAC5BK,OAAO,CAACC,IAAI,CAAC,CAAC,CAAC;IACjB,CAAC,CAAC;EACJ,CAAC,MAAM;IACLD,OAAO,CAACC,IAAI,CAAC,CAAC,CAAC;EACjB;AACF,CAAC;AACD,MAAMC,sBAAsB,GAAIC,KAAK,IAAK;EACxCT,OAAO,CAACC,GAAG,CAACQ,KAAK,CAAC;EAClBL,WAAW,CAAC,CAAC;AACf,CAAC;AAEDE,OAAO,CAACI,EAAE,CAAC,mBAAmB,EAAEF,sBAAsB,CAAC;AACvDF,OAAO,CAACI,EAAE,CAAC,oBAAoB,EAAEF,sBAAsB,CAAC;AAExDF,OAAO,CAACI,EAAE,CAAC,SAAS,EAAE,MAAM;EAC1BV,OAAO,CAACC,GAAG,CAAC,YAAY,CAAC;EACzB,IAAIL,MAAM,EAAE;IACVA,MAAM,CAACS,KAAK,CAAC,CAAC;EAChB;AACF,CAAC,CAAC","ignoreList":[]}},"mtime":1712549044699},"{\"assumptions\":{},\"sourceRoot\":\"E:\\\\Work\\\\baitap_todoapp\\\\backend\\\\src\\\\\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"E:\\\\Work\\\\baitap_todoapp\\\\backend\",\"filename\":\"E:\\\\Work\\\\baitap_todoapp\\\\backend\\\\src\\\\app.js\",\"targets\":{},\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"browserslistConfigFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"E:\\\\Work\\\\baitap_todoapp\\\\backend\",\"rootMode\":\"root\",\"plugins\":[],\"presets\":[]}:7.24.3:development":{"value":{"code":"const config = require('./config/config');\nconst helmet = require('helmet'); // Prevent middleware\nconst xss = require('xss-clean'); // Prevent Cross-Site Scripting\nconst mongoSanitize = require('express-mongo-sanitize'); // Against NoSQL Injection attacks\nconst compression = require('compression'); // reduce a size of data sent to client\nconst cors = require('cors'); // Prevent connect from out side\nconst httpStatus = require('http-status'); // Return of HTTP Status\nconst express = require('express');\nconst ApiError = require('./utils/ApiError');\nconst routes = require('./routes');\n\n// Setup app\nconst app = express();\n\n// Set security HTTP headers\napp.use(helmet());\n\n// Parse Json request body \napp.use(express.json());\n\n//Parse urlencoded request body\napp.use(express.urlencoded({\n  extended: true\n}));\n\n// Sanitize request data\napp.use(xss());\napp.use(mongoSanitize());\n\n// Gzip compression\napp.use(compression());\n\n// Enable cors \napp.use(cors());\napp.options('*', cors());\n\n// v1 api routes\napp.use('/', routes);\n\n// Send back 404 error for any unknown API request\napp.use((req, res, next) => {\n  next(new ApiError(httpStatus.NOT_FOUND, 'Not found'));\n});\nmodule.exports = app;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJjb25maWciLCJyZXF1aXJlIiwiaGVsbWV0IiwieHNzIiwibW9uZ29TYW5pdGl6ZSIsImNvbXByZXNzaW9uIiwiY29ycyIsImh0dHBTdGF0dXMiLCJleHByZXNzIiwiQXBpRXJyb3IiLCJyb3V0ZXMiLCJhcHAiLCJ1c2UiLCJqc29uIiwidXJsZW5jb2RlZCIsImV4dGVuZGVkIiwib3B0aW9ucyIsInJlcSIsInJlcyIsIm5leHQiLCJOT1RfRk9VTkQiLCJtb2R1bGUiLCJleHBvcnRzIl0sInNvdXJjZVJvb3QiOiJFOlxcV29ya1xcYmFpdGFwX3RvZG9hcHBcXGJhY2tlbmRcXHNyY1xcIiwic291cmNlcyI6WyJhcHAuanMiXSwic291cmNlc0NvbnRlbnQiOlsiY29uc3QgY29uZmlnID0gcmVxdWlyZSgnLi9jb25maWcvY29uZmlnJylcclxuY29uc3QgaGVsbWV0ID0gcmVxdWlyZSgnaGVsbWV0Jyk7IC8vIFByZXZlbnQgbWlkZGxld2FyZVxyXG5jb25zdCB4c3MgPSByZXF1aXJlKCd4c3MtY2xlYW4nKTsgLy8gUHJldmVudCBDcm9zcy1TaXRlIFNjcmlwdGluZ1xyXG5jb25zdCBtb25nb1Nhbml0aXplID0gcmVxdWlyZSgnZXhwcmVzcy1tb25nby1zYW5pdGl6ZScpOyAvLyBBZ2FpbnN0IE5vU1FMIEluamVjdGlvbiBhdHRhY2tzXHJcbmNvbnN0IGNvbXByZXNzaW9uID0gcmVxdWlyZSgnY29tcHJlc3Npb24nKTsgLy8gcmVkdWNlIGEgc2l6ZSBvZiBkYXRhIHNlbnQgdG8gY2xpZW50XHJcbmNvbnN0IGNvcnMgPSByZXF1aXJlKCdjb3JzJyk7IC8vIFByZXZlbnQgY29ubmVjdCBmcm9tIG91dCBzaWRlXHJcbmNvbnN0IGh0dHBTdGF0dXMgPSByZXF1aXJlKCdodHRwLXN0YXR1cycpOyAvLyBSZXR1cm4gb2YgSFRUUCBTdGF0dXNcclxuY29uc3QgZXhwcmVzcyA9IHJlcXVpcmUoJ2V4cHJlc3MnKTtcclxuY29uc3QgQXBpRXJyb3IgPSByZXF1aXJlKCcuL3V0aWxzL0FwaUVycm9yJyk7XHJcbmNvbnN0IHJvdXRlcyA9IHJlcXVpcmUoJy4vcm91dGVzJyk7XHJcblxyXG4vLyBTZXR1cCBhcHBcclxuY29uc3QgYXBwID0gZXhwcmVzcygpO1xyXG5cclxuLy8gU2V0IHNlY3VyaXR5IEhUVFAgaGVhZGVyc1xyXG5hcHAudXNlKGhlbG1ldCgpKTtcclxuXHJcbi8vIFBhcnNlIEpzb24gcmVxdWVzdCBib2R5IFxyXG5hcHAudXNlKGV4cHJlc3MuanNvbigpKTsgXHJcblxyXG4vL1BhcnNlIHVybGVuY29kZWQgcmVxdWVzdCBib2R5XHJcbmFwcC51c2UoZXhwcmVzcy51cmxlbmNvZGVkKHsgZXh0ZW5kZWQ6IHRydWUgfSkpOyBcclxuXHJcbi8vIFNhbml0aXplIHJlcXVlc3QgZGF0YVxyXG5hcHAudXNlKHhzcygpKTtcclxuYXBwLnVzZShtb25nb1Nhbml0aXplKCkpOyBcclxuXHJcbi8vIEd6aXAgY29tcHJlc3Npb25cclxuYXBwLnVzZShjb21wcmVzc2lvbigpKTsgXHJcblxyXG4vLyBFbmFibGUgY29ycyBcclxuYXBwLnVzZShjb3JzKCkpOyBcclxuYXBwLm9wdGlvbnMoJyonLCBjb3JzKCkpO1xyXG5cclxuLy8gdjEgYXBpIHJvdXRlc1xyXG5hcHAudXNlKCcvJywgcm91dGVzKTtcclxuXHJcbi8vIFNlbmQgYmFjayA0MDQgZXJyb3IgZm9yIGFueSB1bmtub3duIEFQSSByZXF1ZXN0XHJcbmFwcC51c2UoKHJlcSwgcmVzLCBuZXh0KSA9PiB7XHJcbiAgbmV4dChuZXcgQXBpRXJyb3IoaHR0cFN0YXR1cy5OT1RfRk9VTkQsICdOb3QgZm91bmQnKSk7XHJcbn0pO1xyXG5cclxuXHJcbm1vZHVsZS5leHBvcnRzID0gYXBwOyJdLCJtYXBwaW5ncyI6IkFBQUEsTUFBTUEsTUFBTSxHQUFHQyxPQUFPLENBQUMsaUJBQWlCLENBQUM7QUFDekMsTUFBTUMsTUFBTSxHQUFHRCxPQUFPLENBQUMsUUFBUSxDQUFDLENBQUMsQ0FBQztBQUNsQyxNQUFNRSxHQUFHLEdBQUdGLE9BQU8sQ0FBQyxXQUFXLENBQUMsQ0FBQyxDQUFDO0FBQ2xDLE1BQU1HLGFBQWEsR0FBR0gsT0FBTyxDQUFDLHdCQUF3QixDQUFDLENBQUMsQ0FBQztBQUN6RCxNQUFNSSxXQUFXLEdBQUdKLE9BQU8sQ0FBQyxhQUFhLENBQUMsQ0FBQyxDQUFDO0FBQzVDLE1BQU1LLElBQUksR0FBR0wsT0FBTyxDQUFDLE1BQU0sQ0FBQyxDQUFDLENBQUM7QUFDOUIsTUFBTU0sVUFBVSxHQUFHTixPQUFPLENBQUMsYUFBYSxDQUFDLENBQUMsQ0FBQztBQUMzQyxNQUFNTyxPQUFPLEdBQUdQLE9BQU8sQ0FBQyxTQUFTLENBQUM7QUFDbEMsTUFBTVEsUUFBUSxHQUFHUixPQUFPLENBQUMsa0JBQWtCLENBQUM7QUFDNUMsTUFBTVMsTUFBTSxHQUFHVCxPQUFPLENBQUMsVUFBVSxDQUFDOztBQUVsQztBQUNBLE1BQU1VLEdBQUcsR0FBR0gsT0FBTyxDQUFDLENBQUM7O0FBRXJCO0FBQ0FHLEdBQUcsQ0FBQ0MsR0FBRyxDQUFDVixNQUFNLENBQUMsQ0FBQyxDQUFDOztBQUVqQjtBQUNBUyxHQUFHLENBQUNDLEdBQUcsQ0FBQ0osT0FBTyxDQUFDSyxJQUFJLENBQUMsQ0FBQyxDQUFDOztBQUV2QjtBQUNBRixHQUFHLENBQUNDLEdBQUcsQ0FBQ0osT0FBTyxDQUFDTSxVQUFVLENBQUM7RUFBRUMsUUFBUSxFQUFFO0FBQUssQ0FBQyxDQUFDLENBQUM7O0FBRS9DO0FBQ0FKLEdBQUcsQ0FBQ0MsR0FBRyxDQUFDVCxHQUFHLENBQUMsQ0FBQyxDQUFDO0FBQ2RRLEdBQUcsQ0FBQ0MsR0FBRyxDQUFDUixhQUFhLENBQUMsQ0FBQyxDQUFDOztBQUV4QjtBQUNBTyxHQUFHLENBQUNDLEdBQUcsQ0FBQ1AsV0FBVyxDQUFDLENBQUMsQ0FBQzs7QUFFdEI7QUFDQU0sR0FBRyxDQUFDQyxHQUFHLENBQUNOLElBQUksQ0FBQyxDQUFDLENBQUM7QUFDZkssR0FBRyxDQUFDSyxPQUFPLENBQUMsR0FBRyxFQUFFVixJQUFJLENBQUMsQ0FBQyxDQUFDOztBQUV4QjtBQUNBSyxHQUFHLENBQUNDLEdBQUcsQ0FBQyxHQUFHLEVBQUVGLE1BQU0sQ0FBQzs7QUFFcEI7QUFDQUMsR0FBRyxDQUFDQyxHQUFHLENBQUMsQ0FBQ0ssR0FBRyxFQUFFQyxHQUFHLEVBQUVDLElBQUksS0FBSztFQUMxQkEsSUFBSSxDQUFDLElBQUlWLFFBQVEsQ0FBQ0YsVUFBVSxDQUFDYSxTQUFTLEVBQUUsV0FBVyxDQUFDLENBQUM7QUFDdkQsQ0FBQyxDQUFDO0FBR0ZDLE1BQU0sQ0FBQ0MsT0FBTyxHQUFHWCxHQUFHIiwiaWdub3JlTGlzdCI6W119","map":{"version":3,"names":["config","require","helmet","xss","mongoSanitize","compression","cors","httpStatus","express","ApiError","routes","app","use","json","urlencoded","extended","options","req","res","next","NOT_FOUND","module","exports"],"sourceRoot":"E:\\Work\\baitap_todoapp\\backend\\src\\","sources":["app.js"],"sourcesContent":["const config = require('./config/config')\r\nconst helmet = require('helmet'); // Prevent middleware\r\nconst xss = require('xss-clean'); // Prevent Cross-Site Scripting\r\nconst mongoSanitize = require('express-mongo-sanitize'); // Against NoSQL Injection attacks\r\nconst compression = require('compression'); // reduce a size of data sent to client\r\nconst cors = require('cors'); // Prevent connect from out side\r\nconst httpStatus = require('http-status'); // Return of HTTP Status\r\nconst express = require('express');\r\nconst ApiError = require('./utils/ApiError');\r\nconst routes = require('./routes');\r\n\r\n// Setup app\r\nconst app = express();\r\n\r\n// Set security HTTP headers\r\napp.use(helmet());\r\n\r\n// Parse Json request body \r\napp.use(express.json()); \r\n\r\n//Parse urlencoded request body\r\napp.use(express.urlencoded({ extended: true })); \r\n\r\n// Sanitize request data\r\napp.use(xss());\r\napp.use(mongoSanitize()); \r\n\r\n// Gzip compression\r\napp.use(compression()); \r\n\r\n// Enable cors \r\napp.use(cors()); \r\napp.options('*', cors());\r\n\r\n// v1 api routes\r\napp.use('/', routes);\r\n\r\n// Send back 404 error for any unknown API request\r\napp.use((req, res, next) => {\r\n  next(new ApiError(httpStatus.NOT_FOUND, 'Not found'));\r\n});\r\n\r\n\r\nmodule.exports = app;"],"mappings":"AAAA,MAAMA,MAAM,GAAGC,OAAO,CAAC,iBAAiB,CAAC;AACzC,MAAMC,MAAM,GAAGD,OAAO,CAAC,QAAQ,CAAC,CAAC,CAAC;AAClC,MAAME,GAAG,GAAGF,OAAO,CAAC,WAAW,CAAC,CAAC,CAAC;AAClC,MAAMG,aAAa,GAAGH,OAAO,CAAC,wBAAwB,CAAC,CAAC,CAAC;AACzD,MAAMI,WAAW,GAAGJ,OAAO,CAAC,aAAa,CAAC,CAAC,CAAC;AAC5C,MAAMK,IAAI,GAAGL,OAAO,CAAC,MAAM,CAAC,CAAC,CAAC;AAC9B,MAAMM,UAAU,GAAGN,OAAO,CAAC,aAAa,CAAC,CAAC,CAAC;AAC3C,MAAMO,OAAO,GAAGP,OAAO,CAAC,SAAS,CAAC;AAClC,MAAMQ,QAAQ,GAAGR,OAAO,CAAC,kBAAkB,CAAC;AAC5C,MAAMS,MAAM,GAAGT,OAAO,CAAC,UAAU,CAAC;;AAElC;AACA,MAAMU,GAAG,GAAGH,OAAO,CAAC,CAAC;;AAErB;AACAG,GAAG,CAACC,GAAG,CAACV,MAAM,CAAC,CAAC,CAAC;;AAEjB;AACAS,GAAG,CAACC,GAAG,CAACJ,OAAO,CAACK,IAAI,CAAC,CAAC,CAAC;;AAEvB;AACAF,GAAG,CAACC,GAAG,CAACJ,OAAO,CAACM,UAAU,CAAC;EAAEC,QAAQ,EAAE;AAAK,CAAC,CAAC,CAAC;;AAE/C;AACAJ,GAAG,CAACC,GAAG,CAACT,GAAG,CAAC,CAAC,CAAC;AACdQ,GAAG,CAACC,GAAG,CAACR,aAAa,CAAC,CAAC,CAAC;;AAExB;AACAO,GAAG,CAACC,GAAG,CAACP,WAAW,CAAC,CAAC,CAAC;;AAEtB;AACAM,GAAG,CAACC,GAAG,CAACN,IAAI,CAAC,CAAC,CAAC;AACfK,GAAG,CAACK,OAAO,CAAC,GAAG,EAAEV,IAAI,CAAC,CAAC,CAAC;;AAExB;AACAK,GAAG,CAACC,GAAG,CAAC,GAAG,EAAEF,MAAM,CAAC;;AAEpB;AACAC,GAAG,CAACC,GAAG,CAAC,CAACK,GAAG,EAAEC,GAAG,EAAEC,IAAI,KAAK;EAC1BA,IAAI,CAAC,IAAIV,QAAQ,CAACF,UAAU,CAACa,SAAS,EAAE,WAAW,CAAC,CAAC;AACvD,CAAC,CAAC;AAGFC,MAAM,CAACC,OAAO,GAAGX,GAAG","ignoreList":[]}},"mtime":1712550533512},"{\"assumptions\":{},\"sourceRoot\":\"E:\\\\Work\\\\baitap_todoapp\\\\backend\\\\src\\\\config\\\\\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"E:\\\\Work\\\\baitap_todoapp\\\\backend\",\"filename\":\"E:\\\\Work\\\\baitap_todoapp\\\\backend\\\\src\\\\config\\\\config.js\",\"targets\":{},\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"browserslistConfigFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"E:\\\\Work\\\\baitap_todoapp\\\\backend\",\"rootMode\":\"root\",\"plugins\":[],\"presets\":[]}:7.24.3:development":{"value":{"code":"const path = require('path');\nconst Joi = require('joi');\nconst dotenv = require('dotenv');\ndotenv.config({\n  path: path.join(__dirname, '../../.env')\n});\nconst envVarsSchema = Joi.object().keys({\n  NODE_ENV: Joi.string().valid('production', 'development', 'test').required(),\n  PORT: Joi.number().default(3000),\n  MONGODB_URL: Joi.string().required().description('Mongo DB url')\n}).unknown();\nconst {\n  value: envVars\n} = envVarsSchema.prefs({\n  errors: {\n    label: 'key'\n  }\n}).validate(process.env);\nmodule.exports = {\n  env: envVars.NODE_ENV,\n  port: envVars.PORT,\n  mongoose: {\n    url: envVars.MONGODB_URL\n  }\n};\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJwYXRoIiwicmVxdWlyZSIsIkpvaSIsImRvdGVudiIsImNvbmZpZyIsImpvaW4iLCJfX2Rpcm5hbWUiLCJlbnZWYXJzU2NoZW1hIiwib2JqZWN0Iiwia2V5cyIsIk5PREVfRU5WIiwic3RyaW5nIiwidmFsaWQiLCJyZXF1aXJlZCIsIlBPUlQiLCJudW1iZXIiLCJkZWZhdWx0IiwiTU9OR09EQl9VUkwiLCJkZXNjcmlwdGlvbiIsInVua25vd24iLCJ2YWx1ZSIsImVudlZhcnMiLCJwcmVmcyIsImVycm9ycyIsImxhYmVsIiwidmFsaWRhdGUiLCJwcm9jZXNzIiwiZW52IiwibW9kdWxlIiwiZXhwb3J0cyIsInBvcnQiLCJtb25nb29zZSIsInVybCJdLCJzb3VyY2VSb290IjoiRTpcXFdvcmtcXGJhaXRhcF90b2RvYXBwXFxiYWNrZW5kXFxzcmNcXGNvbmZpZ1xcIiwic291cmNlcyI6WyJjb25maWcuanMiXSwic291cmNlc0NvbnRlbnQiOlsiY29uc3QgcGF0aCA9IHJlcXVpcmUoJ3BhdGgnKTtcclxuY29uc3QgSm9pID0gcmVxdWlyZSgnam9pJyk7XHJcbmNvbnN0IGRvdGVudiA9IHJlcXVpcmUoJ2RvdGVudicpO1xyXG5kb3RlbnYuY29uZmlnKHsgcGF0aDogcGF0aC5qb2luKF9fZGlybmFtZSwgJy4uLy4uLy5lbnYnKSB9KTtcclxuXHJcbmNvbnN0IGVudlZhcnNTY2hlbWEgPSBKb2kub2JqZWN0KClcclxuICAua2V5cyh7XHJcbiAgICBOT0RFX0VOVjogSm9pLnN0cmluZygpLnZhbGlkKCdwcm9kdWN0aW9uJywgJ2RldmVsb3BtZW50JywgJ3Rlc3QnKS5yZXF1aXJlZCgpLFxyXG4gICAgUE9SVDogSm9pLm51bWJlcigpLmRlZmF1bHQoMzAwMCksXHJcbiAgICBNT05HT0RCX1VSTDogSm9pLnN0cmluZygpLnJlcXVpcmVkKCkuZGVzY3JpcHRpb24oJ01vbmdvIERCIHVybCcpLFxyXG4gIH0pXHJcbiAgLnVua25vd24oKTtcclxuXHJcbmNvbnN0IHsgdmFsdWU6IGVudlZhcnN9ID0gZW52VmFyc1NjaGVtYS5wcmVmcyh7IGVycm9yczogeyBsYWJlbDogJ2tleScgfSB9KS52YWxpZGF0ZShwcm9jZXNzLmVudik7XHJcblxyXG5tb2R1bGUuZXhwb3J0cyA9IHtcclxuICBlbnY6IGVudlZhcnMuTk9ERV9FTlYsXHJcbiAgcG9ydDogZW52VmFycy5QT1JULFxyXG4gIG1vbmdvb3NlOiB7XHJcbiAgICB1cmw6IGVudlZhcnMuTU9OR09EQl9VUkxcclxuICAgIH1cclxufTsiXSwibWFwcGluZ3MiOiJBQUFBLE1BQU1BLElBQUksR0FBR0MsT0FBTyxDQUFDLE1BQU0sQ0FBQztBQUM1QixNQUFNQyxHQUFHLEdBQUdELE9BQU8sQ0FBQyxLQUFLLENBQUM7QUFDMUIsTUFBTUUsTUFBTSxHQUFHRixPQUFPLENBQUMsUUFBUSxDQUFDO0FBQ2hDRSxNQUFNLENBQUNDLE1BQU0sQ0FBQztFQUFFSixJQUFJLEVBQUVBLElBQUksQ0FBQ0ssSUFBSSxDQUFDQyxTQUFTLEVBQUUsWUFBWTtBQUFFLENBQUMsQ0FBQztBQUUzRCxNQUFNQyxhQUFhLEdBQUdMLEdBQUcsQ0FBQ00sTUFBTSxDQUFDLENBQUMsQ0FDL0JDLElBQUksQ0FBQztFQUNKQyxRQUFRLEVBQUVSLEdBQUcsQ0FBQ1MsTUFBTSxDQUFDLENBQUMsQ0FBQ0MsS0FBSyxDQUFDLFlBQVksRUFBRSxhQUFhLEVBQUUsTUFBTSxDQUFDLENBQUNDLFFBQVEsQ0FBQyxDQUFDO0VBQzVFQyxJQUFJLEVBQUVaLEdBQUcsQ0FBQ2EsTUFBTSxDQUFDLENBQUMsQ0FBQ0MsT0FBTyxDQUFDLElBQUksQ0FBQztFQUNoQ0MsV0FBVyxFQUFFZixHQUFHLENBQUNTLE1BQU0sQ0FBQyxDQUFDLENBQUNFLFFBQVEsQ0FBQyxDQUFDLENBQUNLLFdBQVcsQ0FBQyxjQUFjO0FBQ2pFLENBQUMsQ0FBQyxDQUNEQyxPQUFPLENBQUMsQ0FBQztBQUVaLE1BQU07RUFBRUMsS0FBSyxFQUFFQztBQUFPLENBQUMsR0FBR2QsYUFBYSxDQUFDZSxLQUFLLENBQUM7RUFBRUMsTUFBTSxFQUFFO0lBQUVDLEtBQUssRUFBRTtFQUFNO0FBQUUsQ0FBQyxDQUFDLENBQUNDLFFBQVEsQ0FBQ0MsT0FBTyxDQUFDQyxHQUFHLENBQUM7QUFFakdDLE1BQU0sQ0FBQ0MsT0FBTyxHQUFHO0VBQ2ZGLEdBQUcsRUFBRU4sT0FBTyxDQUFDWCxRQUFRO0VBQ3JCb0IsSUFBSSxFQUFFVCxPQUFPLENBQUNQLElBQUk7RUFDbEJpQixRQUFRLEVBQUU7SUFDUkMsR0FBRyxFQUFFWCxPQUFPLENBQUNKO0VBQ2I7QUFDSixDQUFDIiwiaWdub3JlTGlzdCI6W119","map":{"version":3,"names":["path","require","Joi","dotenv","config","join","__dirname","envVarsSchema","object","keys","NODE_ENV","string","valid","required","PORT","number","default","MONGODB_URL","description","unknown","value","envVars","prefs","errors","label","validate","process","env","module","exports","port","mongoose","url"],"sourceRoot":"E:\\Work\\baitap_todoapp\\backend\\src\\config\\","sources":["config.js"],"sourcesContent":["const path = require('path');\r\nconst Joi = require('joi');\r\nconst dotenv = require('dotenv');\r\ndotenv.config({ path: path.join(__dirname, '../../.env') });\r\n\r\nconst envVarsSchema = Joi.object()\r\n  .keys({\r\n    NODE_ENV: Joi.string().valid('production', 'development', 'test').required(),\r\n    PORT: Joi.number().default(3000),\r\n    MONGODB_URL: Joi.string().required().description('Mongo DB url'),\r\n  })\r\n  .unknown();\r\n\r\nconst { value: envVars} = envVarsSchema.prefs({ errors: { label: 'key' } }).validate(process.env);\r\n\r\nmodule.exports = {\r\n  env: envVars.NODE_ENV,\r\n  port: envVars.PORT,\r\n  mongoose: {\r\n    url: envVars.MONGODB_URL\r\n    }\r\n};"],"mappings":"AAAA,MAAMA,IAAI,GAAGC,OAAO,CAAC,MAAM,CAAC;AAC5B,MAAMC,GAAG,GAAGD,OAAO,CAAC,KAAK,CAAC;AAC1B,MAAME,MAAM,GAAGF,OAAO,CAAC,QAAQ,CAAC;AAChCE,MAAM,CAACC,MAAM,CAAC;EAAEJ,IAAI,EAAEA,IAAI,CAACK,IAAI,CAACC,SAAS,EAAE,YAAY;AAAE,CAAC,CAAC;AAE3D,MAAMC,aAAa,GAAGL,GAAG,CAACM,MAAM,CAAC,CAAC,CAC/BC,IAAI,CAAC;EACJC,QAAQ,EAAER,GAAG,CAACS,MAAM,CAAC,CAAC,CAACC,KAAK,CAAC,YAAY,EAAE,aAAa,EAAE,MAAM,CAAC,CAACC,QAAQ,CAAC,CAAC;EAC5EC,IAAI,EAAEZ,GAAG,CAACa,MAAM,CAAC,CAAC,CAACC,OAAO,CAAC,IAAI,CAAC;EAChCC,WAAW,EAAEf,GAAG,CAACS,MAAM,CAAC,CAAC,CAACE,QAAQ,CAAC,CAAC,CAACK,WAAW,CAAC,cAAc;AACjE,CAAC,CAAC,CACDC,OAAO,CAAC,CAAC;AAEZ,MAAM;EAAEC,KAAK,EAAEC;AAAO,CAAC,GAAGd,aAAa,CAACe,KAAK,CAAC;EAAEC,MAAM,EAAE;IAAEC,KAAK,EAAE;EAAM;AAAE,CAAC,CAAC,CAACC,QAAQ,CAACC,OAAO,CAACC,GAAG,CAAC;AAEjGC,MAAM,CAACC,OAAO,GAAG;EACfF,GAAG,EAAEN,OAAO,CAACX,QAAQ;EACrBoB,IAAI,EAAET,OAAO,CAACP,IAAI;EAClBiB,QAAQ,EAAE;IACRC,GAAG,EAAEX,OAAO,CAACJ;EACb;AACJ,CAAC","ignoreList":[]}},"mtime":1712046696283},"{\"assumptions\":{},\"sourceRoot\":\"E:\\\\Work\\\\baitap_todoapp\\\\backend\\\\src\\\\utils\\\\\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"E:\\\\Work\\\\baitap_todoapp\\\\backend\",\"filename\":\"E:\\\\Work\\\\baitap_todoapp\\\\backend\\\\src\\\\utils\\\\ApiError.js\",\"targets\":{},\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"browserslistConfigFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"E:\\\\Work\\\\baitap_todoapp\\\\backend\",\"rootMode\":\"root\",\"plugins\":[],\"presets\":[]}:7.24.3:development":{"value":{"code":"class ApiError extends Error {\n  constructor(statusCode, message, isOperational = true, stack = '') {\n    super(message);\n    this.statusCode = statusCode;\n    this.isOperational = isOperational;\n    if (stack) {\n      this.stack = stack;\n    } else {\n      Error.captureStackTrace(this, this.constructor);\n    }\n  }\n}\nmodule.exports = ApiError;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJBcGlFcnJvciIsIkVycm9yIiwiY29uc3RydWN0b3IiLCJzdGF0dXNDb2RlIiwibWVzc2FnZSIsImlzT3BlcmF0aW9uYWwiLCJzdGFjayIsImNhcHR1cmVTdGFja1RyYWNlIiwibW9kdWxlIiwiZXhwb3J0cyJdLCJzb3VyY2VSb290IjoiRTpcXFdvcmtcXGJhaXRhcF90b2RvYXBwXFxiYWNrZW5kXFxzcmNcXHV0aWxzXFwiLCJzb3VyY2VzIjpbIkFwaUVycm9yLmpzIl0sInNvdXJjZXNDb250ZW50IjpbImNsYXNzIEFwaUVycm9yIGV4dGVuZHMgRXJyb3Ige1xuICBjb25zdHJ1Y3RvcihzdGF0dXNDb2RlLCBtZXNzYWdlLCBpc09wZXJhdGlvbmFsID0gdHJ1ZSwgc3RhY2sgPSAnJykge1xuICAgIHN1cGVyKG1lc3NhZ2UpO1xuICAgIHRoaXMuc3RhdHVzQ29kZSA9IHN0YXR1c0NvZGU7XG4gICAgdGhpcy5pc09wZXJhdGlvbmFsID0gaXNPcGVyYXRpb25hbDtcbiAgICBpZiAoc3RhY2spIHtcbiAgICAgIHRoaXMuc3RhY2sgPSBzdGFjaztcbiAgICB9IGVsc2Uge1xuICAgICAgRXJyb3IuY2FwdHVyZVN0YWNrVHJhY2UodGhpcywgdGhpcy5jb25zdHJ1Y3Rvcik7XG4gICAgfVxuICB9XG59XG5cbm1vZHVsZS5leHBvcnRzID0gQXBpRXJyb3I7XG4iXSwibWFwcGluZ3MiOiJBQUFBLE1BQU1BLFFBQVEsU0FBU0MsS0FBSyxDQUFDO0VBQzNCQyxXQUFXQSxDQUFDQyxVQUFVLEVBQUVDLE9BQU8sRUFBRUMsYUFBYSxHQUFHLElBQUksRUFBRUMsS0FBSyxHQUFHLEVBQUUsRUFBRTtJQUNqRSxLQUFLLENBQUNGLE9BQU8sQ0FBQztJQUNkLElBQUksQ0FBQ0QsVUFBVSxHQUFHQSxVQUFVO0lBQzVCLElBQUksQ0FBQ0UsYUFBYSxHQUFHQSxhQUFhO0lBQ2xDLElBQUlDLEtBQUssRUFBRTtNQUNULElBQUksQ0FBQ0EsS0FBSyxHQUFHQSxLQUFLO0lBQ3BCLENBQUMsTUFBTTtNQUNMTCxLQUFLLENBQUNNLGlCQUFpQixDQUFDLElBQUksRUFBRSxJQUFJLENBQUNMLFdBQVcsQ0FBQztJQUNqRDtFQUNGO0FBQ0Y7QUFFQU0sTUFBTSxDQUFDQyxPQUFPLEdBQUdULFFBQVEiLCJpZ25vcmVMaXN0IjpbXX0=","map":{"version":3,"names":["ApiError","Error","constructor","statusCode","message","isOperational","stack","captureStackTrace","module","exports"],"sourceRoot":"E:\\Work\\baitap_todoapp\\backend\\src\\utils\\","sources":["ApiError.js"],"sourcesContent":["class ApiError extends Error {\n  constructor(statusCode, message, isOperational = true, stack = '') {\n    super(message);\n    this.statusCode = statusCode;\n    this.isOperational = isOperational;\n    if (stack) {\n      this.stack = stack;\n    } else {\n      Error.captureStackTrace(this, this.constructor);\n    }\n  }\n}\n\nmodule.exports = ApiError;\n"],"mappings":"AAAA,MAAMA,QAAQ,SAASC,KAAK,CAAC;EAC3BC,WAAWA,CAACC,UAAU,EAAEC,OAAO,EAAEC,aAAa,GAAG,IAAI,EAAEC,KAAK,GAAG,EAAE,EAAE;IACjE,KAAK,CAACF,OAAO,CAAC;IACd,IAAI,CAACD,UAAU,GAAGA,UAAU;IAC5B,IAAI,CAACE,aAAa,GAAGA,aAAa;IAClC,IAAIC,KAAK,EAAE;MACT,IAAI,CAACA,KAAK,GAAGA,KAAK;IACpB,CAAC,MAAM;MACLL,KAAK,CAACM,iBAAiB,CAAC,IAAI,EAAE,IAAI,CAACL,WAAW,CAAC;IACjD;EACF;AACF;AAEAM,MAAM,CAACC,OAAO,GAAGT,QAAQ","ignoreList":[]}},"mtime":1712050935896},"{\"assumptions\":{},\"sourceRoot\":\"E:\\\\Work\\\\baitap_todoapp\\\\backend\\\\src\\\\routes\\\\\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"E:\\\\Work\\\\baitap_todoapp\\\\backend\",\"filename\":\"E:\\\\Work\\\\baitap_todoapp\\\\backend\\\\src\\\\routes\\\\index.js\",\"targets\":{},\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"browserslistConfigFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"E:\\\\Work\\\\baitap_todoapp\\\\backend\",\"rootMode\":\"root\",\"plugins\":[],\"presets\":[]}:7.24.3:development":{"value":{"code":"const express = require('express');\nconst router = express.Router();\nconst baseRoute = require('./baseRouter');\nconst taskRoute = require('./taskRouter');\nconst defaultRoutes = [{\n  path: '/',\n  route: baseRoute\n}, {\n  path: '/task',\n  route: taskRoute\n},,];\ndefaultRoutes.forEach(route => {\n  router.use(route.path, route.route);\n});\nmodule.exports = router;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJleHByZXNzIiwicmVxdWlyZSIsInJvdXRlciIsIlJvdXRlciIsImJhc2VSb3V0ZSIsInRhc2tSb3V0ZSIsImRlZmF1bHRSb3V0ZXMiLCJwYXRoIiwicm91dGUiLCJmb3JFYWNoIiwidXNlIiwibW9kdWxlIiwiZXhwb3J0cyJdLCJzb3VyY2VSb290IjoiRTpcXFdvcmtcXGJhaXRhcF90b2RvYXBwXFxiYWNrZW5kXFxzcmNcXHJvdXRlc1xcIiwic291cmNlcyI6WyJpbmRleC5qcyJdLCJzb3VyY2VzQ29udGVudCI6WyJjb25zdCBleHByZXNzID0gcmVxdWlyZSgnZXhwcmVzcycpO1xyXG5jb25zdCByb3V0ZXIgPSBleHByZXNzLlJvdXRlcigpO1xyXG5jb25zdCBiYXNlUm91dGUgPSByZXF1aXJlKCcuL2Jhc2VSb3V0ZXInKVxyXG5jb25zdCB0YXNrUm91dGUgPSByZXF1aXJlKCcuL3Rhc2tSb3V0ZXInKVxyXG5jb25zdCBkZWZhdWx0Um91dGVzID0gW1xyXG4gIHtcclxuICAgIHBhdGg6ICcvJyxcclxuICAgIHJvdXRlOiBiYXNlUm91dGUsXHJcbiAgfSxcclxuICB7XHJcbiAgICBwYXRoOiAnL3Rhc2snLFxyXG4gICAgcm91dGU6IHRhc2tSb3V0ZSxcclxuICB9LCxcclxuXTtcclxuXHJcblxyXG5kZWZhdWx0Um91dGVzLmZvckVhY2goKHJvdXRlKSA9PiB7XHJcbiAgcm91dGVyLnVzZShyb3V0ZS5wYXRoLCByb3V0ZS5yb3V0ZSk7XHJcbn0pO1xyXG5cclxubW9kdWxlLmV4cG9ydHMgPSByb3V0ZXI7XHJcbiJdLCJtYXBwaW5ncyI6IkFBQUEsTUFBTUEsT0FBTyxHQUFHQyxPQUFPLENBQUMsU0FBUyxDQUFDO0FBQ2xDLE1BQU1DLE1BQU0sR0FBR0YsT0FBTyxDQUFDRyxNQUFNLENBQUMsQ0FBQztBQUMvQixNQUFNQyxTQUFTLEdBQUdILE9BQU8sQ0FBQyxjQUFjLENBQUM7QUFDekMsTUFBTUksU0FBUyxHQUFHSixPQUFPLENBQUMsY0FBYyxDQUFDO0FBQ3pDLE1BQU1LLGFBQWEsR0FBRyxDQUNwQjtFQUNFQyxJQUFJLEVBQUUsR0FBRztFQUNUQyxLQUFLLEVBQUVKO0FBQ1QsQ0FBQyxFQUNEO0VBQ0VHLElBQUksRUFBRSxPQUFPO0VBQ2JDLEtBQUssRUFBRUg7QUFDVCxDQUFDLEdBQ0Y7QUFHREMsYUFBYSxDQUFDRyxPQUFPLENBQUVELEtBQUssSUFBSztFQUMvQk4sTUFBTSxDQUFDUSxHQUFHLENBQUNGLEtBQUssQ0FBQ0QsSUFBSSxFQUFFQyxLQUFLLENBQUNBLEtBQUssQ0FBQztBQUNyQyxDQUFDLENBQUM7QUFFRkcsTUFBTSxDQUFDQyxPQUFPLEdBQUdWLE1BQU0iLCJpZ25vcmVMaXN0IjpbXX0=","map":{"version":3,"names":["express","require","router","Router","baseRoute","taskRoute","defaultRoutes","path","route","forEach","use","module","exports"],"sourceRoot":"E:\\Work\\baitap_todoapp\\backend\\src\\routes\\","sources":["index.js"],"sourcesContent":["const express = require('express');\r\nconst router = express.Router();\r\nconst baseRoute = require('./baseRouter')\r\nconst taskRoute = require('./taskRouter')\r\nconst defaultRoutes = [\r\n  {\r\n    path: '/',\r\n    route: baseRoute,\r\n  },\r\n  {\r\n    path: '/task',\r\n    route: taskRoute,\r\n  },,\r\n];\r\n\r\n\r\ndefaultRoutes.forEach((route) => {\r\n  router.use(route.path, route.route);\r\n});\r\n\r\nmodule.exports = router;\r\n"],"mappings":"AAAA,MAAMA,OAAO,GAAGC,OAAO,CAAC,SAAS,CAAC;AAClC,MAAMC,MAAM,GAAGF,OAAO,CAACG,MAAM,CAAC,CAAC;AAC/B,MAAMC,SAAS,GAAGH,OAAO,CAAC,cAAc,CAAC;AACzC,MAAMI,SAAS,GAAGJ,OAAO,CAAC,cAAc,CAAC;AACzC,MAAMK,aAAa,GAAG,CACpB;EACEC,IAAI,EAAE,GAAG;EACTC,KAAK,EAAEJ;AACT,CAAC,EACD;EACEG,IAAI,EAAE,OAAO;EACbC,KAAK,EAAEH;AACT,CAAC,GACF;AAGDC,aAAa,CAACG,OAAO,CAAED,KAAK,IAAK;EAC/BN,MAAM,CAACQ,GAAG,CAACF,KAAK,CAACD,IAAI,EAAEC,KAAK,CAACA,KAAK,CAAC;AACrC,CAAC,CAAC;AAEFG,MAAM,CAACC,OAAO,GAAGV,MAAM","ignoreList":[]}},"mtime":1712551942527},"{\"assumptions\":{},\"sourceRoot\":\"E:\\\\Work\\\\baitap_todoapp\\\\backend\\\\src\\\\routes\\\\\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"E:\\\\Work\\\\baitap_todoapp\\\\backend\",\"filename\":\"E:\\\\Work\\\\baitap_todoapp\\\\backend\\\\src\\\\routes\\\\baseRouter.js\",\"targets\":{},\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"browserslistConfigFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"E:\\\\Work\\\\baitap_todoapp\\\\backend\",\"rootMode\":\"root\",\"plugins\":[],\"presets\":[]}:7.24.3:development":{"value":{"code":"const express = require('express');\nconst router = express.Router();\nrouter.route('/').get((req, res) => {\n  res.send('TODO APP BACKEND API');\n});\nmodule.exports = router;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJleHByZXNzIiwicmVxdWlyZSIsInJvdXRlciIsIlJvdXRlciIsInJvdXRlIiwiZ2V0IiwicmVxIiwicmVzIiwic2VuZCIsIm1vZHVsZSIsImV4cG9ydHMiXSwic291cmNlUm9vdCI6IkU6XFxXb3JrXFxiYWl0YXBfdG9kb2FwcFxcYmFja2VuZFxcc3JjXFxyb3V0ZXNcXCIsInNvdXJjZXMiOlsiYmFzZVJvdXRlci5qcyJdLCJzb3VyY2VzQ29udGVudCI6WyJjb25zdCBleHByZXNzID0gcmVxdWlyZSgnZXhwcmVzcycpO1xyXG5jb25zdCByb3V0ZXIgPSBleHByZXNzLlJvdXRlcigpO1xyXG5cclxucm91dGVyXHJcbiAgLnJvdXRlKCcvJylcclxuICAuZ2V0KChyZXEsIHJlcykgPT4ge1xyXG4gICAgcmVzLnNlbmQoJ1RPRE8gQVBQIEJBQ0tFTkQgQVBJJylcclxuICB9KVxyXG5cclxubW9kdWxlLmV4cG9ydHMgPSByb3V0ZXI7Il0sIm1hcHBpbmdzIjoiQUFBQSxNQUFNQSxPQUFPLEdBQUdDLE9BQU8sQ0FBQyxTQUFTLENBQUM7QUFDbEMsTUFBTUMsTUFBTSxHQUFHRixPQUFPLENBQUNHLE1BQU0sQ0FBQyxDQUFDO0FBRS9CRCxNQUFNLENBQ0hFLEtBQUssQ0FBQyxHQUFHLENBQUMsQ0FDVkMsR0FBRyxDQUFDLENBQUNDLEdBQUcsRUFBRUMsR0FBRyxLQUFLO0VBQ2pCQSxHQUFHLENBQUNDLElBQUksQ0FBQyxzQkFBc0IsQ0FBQztBQUNsQyxDQUFDLENBQUM7QUFFSkMsTUFBTSxDQUFDQyxPQUFPLEdBQUdSLE1BQU0iLCJpZ25vcmVMaXN0IjpbXX0=","map":{"version":3,"names":["express","require","router","Router","route","get","req","res","send","module","exports"],"sourceRoot":"E:\\Work\\baitap_todoapp\\backend\\src\\routes\\","sources":["baseRouter.js"],"sourcesContent":["const express = require('express');\r\nconst router = express.Router();\r\n\r\nrouter\r\n  .route('/')\r\n  .get((req, res) => {\r\n    res.send('TODO APP BACKEND API')\r\n  })\r\n\r\nmodule.exports = router;"],"mappings":"AAAA,MAAMA,OAAO,GAAGC,OAAO,CAAC,SAAS,CAAC;AAClC,MAAMC,MAAM,GAAGF,OAAO,CAACG,MAAM,CAAC,CAAC;AAE/BD,MAAM,CACHE,KAAK,CAAC,GAAG,CAAC,CACVC,GAAG,CAAC,CAACC,GAAG,EAAEC,GAAG,KAAK;EACjBA,GAAG,CAACC,IAAI,CAAC,sBAAsB,CAAC;AAClC,CAAC,CAAC;AAEJC,MAAM,CAACC,OAAO,GAAGR,MAAM","ignoreList":[]}},"mtime":1712551727386},"{\"assumptions\":{},\"sourceRoot\":\"E:\\\\Work\\\\baitap_todoapp\\\\backend\\\\src\\\\routes\\\\\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"E:\\\\Work\\\\baitap_todoapp\\\\backend\",\"filename\":\"E:\\\\Work\\\\baitap_todoapp\\\\backend\\\\src\\\\routes\\\\taskRouter.js\",\"targets\":{},\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"browserslistConfigFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"E:\\\\Work\\\\baitap_todoapp\\\\backend\",\"rootMode\":\"root\",\"plugins\":[],\"presets\":[]}:7.24.3:development":{"value":{"code":"const express = require('express');\nconst validate = require('../middlewares/validate');\nconst taskValidation = require('../vaditations/taskVadilation');\nconst taskController = require('../controllers/taskController');\nconst router = express.Router();\nrouter.route('/').post(validate(taskValidation.createTask), taskController.createTask).get(validate(taskValidation.getTasks), taskController.getTasks);\nrouter.route('/name').get(validate(taskValidation.getTaskByTitle), taskController.getTaskByTitle);\nrouter.route('/:taskId').get(validate(taskValidation.getTask), taskController.getTaskByID).patch(validate(taskValidation.updateTask), taskController.updateTask).delete(validate(taskValidation.deleteTask), taskController.deleteTask);\nmodule.exports = router;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJleHByZXNzIiwicmVxdWlyZSIsInZhbGlkYXRlIiwidGFza1ZhbGlkYXRpb24iLCJ0YXNrQ29udHJvbGxlciIsInJvdXRlciIsIlJvdXRlciIsInJvdXRlIiwicG9zdCIsImNyZWF0ZVRhc2siLCJnZXQiLCJnZXRUYXNrcyIsImdldFRhc2tCeVRpdGxlIiwiZ2V0VGFzayIsImdldFRhc2tCeUlEIiwicGF0Y2giLCJ1cGRhdGVUYXNrIiwiZGVsZXRlIiwiZGVsZXRlVGFzayIsIm1vZHVsZSIsImV4cG9ydHMiXSwic291cmNlUm9vdCI6IkU6XFxXb3JrXFxiYWl0YXBfdG9kb2FwcFxcYmFja2VuZFxcc3JjXFxyb3V0ZXNcXCIsInNvdXJjZXMiOlsidGFza1JvdXRlci5qcyJdLCJzb3VyY2VzQ29udGVudCI6WyJjb25zdCBleHByZXNzID0gcmVxdWlyZSgnZXhwcmVzcycpO1xyXG5jb25zdCB2YWxpZGF0ZSA9IHJlcXVpcmUoJy4uL21pZGRsZXdhcmVzL3ZhbGlkYXRlJyk7XHJcbmNvbnN0IHRhc2tWYWxpZGF0aW9uID0gcmVxdWlyZSgnLi4vdmFkaXRhdGlvbnMvdGFza1ZhZGlsYXRpb24nKTtcclxuY29uc3QgdGFza0NvbnRyb2xsZXIgPSByZXF1aXJlKCcuLi9jb250cm9sbGVycy90YXNrQ29udHJvbGxlcicpXHJcbmNvbnN0IHJvdXRlciA9IGV4cHJlc3MuUm91dGVyKCk7XHJcblxyXG5yb3V0ZXJcclxuICAucm91dGUoJy8nKVxyXG4gIC5wb3N0KHZhbGlkYXRlKHRhc2tWYWxpZGF0aW9uLmNyZWF0ZVRhc2spLCB0YXNrQ29udHJvbGxlci5jcmVhdGVUYXNrKVxyXG4gIC5nZXQodmFsaWRhdGUodGFza1ZhbGlkYXRpb24uZ2V0VGFza3MpLCB0YXNrQ29udHJvbGxlci5nZXRUYXNrcyk7XHJcblxyXG5yb3V0ZXJcclxuICAucm91dGUoJy9uYW1lJylcclxuICAuZ2V0KHZhbGlkYXRlKHRhc2tWYWxpZGF0aW9uLmdldFRhc2tCeVRpdGxlKSwgdGFza0NvbnRyb2xsZXIuZ2V0VGFza0J5VGl0bGUpXHJcblxyXG5yb3V0ZXJcclxuICAucm91dGUoJy86dGFza0lkJylcclxuICAuZ2V0KHZhbGlkYXRlKHRhc2tWYWxpZGF0aW9uLmdldFRhc2spLCB0YXNrQ29udHJvbGxlci5nZXRUYXNrQnlJRClcclxuICAucGF0Y2godmFsaWRhdGUodGFza1ZhbGlkYXRpb24udXBkYXRlVGFzayksIHRhc2tDb250cm9sbGVyLnVwZGF0ZVRhc2spXHJcbiAgLmRlbGV0ZSh2YWxpZGF0ZSh0YXNrVmFsaWRhdGlvbi5kZWxldGVUYXNrKSwgdGFza0NvbnRyb2xsZXIuZGVsZXRlVGFzayk7XHJcblxyXG5cclxuXHJcbm1vZHVsZS5leHBvcnRzID0gcm91dGVyOyJdLCJtYXBwaW5ncyI6IkFBQUEsTUFBTUEsT0FBTyxHQUFHQyxPQUFPLENBQUMsU0FBUyxDQUFDO0FBQ2xDLE1BQU1DLFFBQVEsR0FBR0QsT0FBTyxDQUFDLHlCQUF5QixDQUFDO0FBQ25ELE1BQU1FLGNBQWMsR0FBR0YsT0FBTyxDQUFDLCtCQUErQixDQUFDO0FBQy9ELE1BQU1HLGNBQWMsR0FBR0gsT0FBTyxDQUFDLCtCQUErQixDQUFDO0FBQy9ELE1BQU1JLE1BQU0sR0FBR0wsT0FBTyxDQUFDTSxNQUFNLENBQUMsQ0FBQztBQUUvQkQsTUFBTSxDQUNIRSxLQUFLLENBQUMsR0FBRyxDQUFDLENBQ1ZDLElBQUksQ0FBQ04sUUFBUSxDQUFDQyxjQUFjLENBQUNNLFVBQVUsQ0FBQyxFQUFFTCxjQUFjLENBQUNLLFVBQVUsQ0FBQyxDQUNwRUMsR0FBRyxDQUFDUixRQUFRLENBQUNDLGNBQWMsQ0FBQ1EsUUFBUSxDQUFDLEVBQUVQLGNBQWMsQ0FBQ08sUUFBUSxDQUFDO0FBRWxFTixNQUFNLENBQ0hFLEtBQUssQ0FBQyxPQUFPLENBQUMsQ0FDZEcsR0FBRyxDQUFDUixRQUFRLENBQUNDLGNBQWMsQ0FBQ1MsY0FBYyxDQUFDLEVBQUVSLGNBQWMsQ0FBQ1EsY0FBYyxDQUFDO0FBRTlFUCxNQUFNLENBQ0hFLEtBQUssQ0FBQyxVQUFVLENBQUMsQ0FDakJHLEdBQUcsQ0FBQ1IsUUFBUSxDQUFDQyxjQUFjLENBQUNVLE9BQU8sQ0FBQyxFQUFFVCxjQUFjLENBQUNVLFdBQVcsQ0FBQyxDQUNqRUMsS0FBSyxDQUFDYixRQUFRLENBQUNDLGNBQWMsQ0FBQ2EsVUFBVSxDQUFDLEVBQUVaLGNBQWMsQ0FBQ1ksVUFBVSxDQUFDLENBQ3JFQyxNQUFNLENBQUNmLFFBQVEsQ0FBQ0MsY0FBYyxDQUFDZSxVQUFVLENBQUMsRUFBRWQsY0FBYyxDQUFDYyxVQUFVLENBQUM7QUFJekVDLE1BQU0sQ0FBQ0MsT0FBTyxHQUFHZixNQUFNIiwiaWdub3JlTGlzdCI6W119","map":{"version":3,"names":["express","require","validate","taskValidation","taskController","router","Router","route","post","createTask","get","getTasks","getTaskByTitle","getTask","getTaskByID","patch","updateTask","delete","deleteTask","module","exports"],"sourceRoot":"E:\\Work\\baitap_todoapp\\backend\\src\\routes\\","sources":["taskRouter.js"],"sourcesContent":["const express = require('express');\r\nconst validate = require('../middlewares/validate');\r\nconst taskValidation = require('../vaditations/taskVadilation');\r\nconst taskController = require('../controllers/taskController')\r\nconst router = express.Router();\r\n\r\nrouter\r\n  .route('/')\r\n  .post(validate(taskValidation.createTask), taskController.createTask)\r\n  .get(validate(taskValidation.getTasks), taskController.getTasks);\r\n\r\nrouter\r\n  .route('/name')\r\n  .get(validate(taskValidation.getTaskByTitle), taskController.getTaskByTitle)\r\n\r\nrouter\r\n  .route('/:taskId')\r\n  .get(validate(taskValidation.getTask), taskController.getTaskByID)\r\n  .patch(validate(taskValidation.updateTask), taskController.updateTask)\r\n  .delete(validate(taskValidation.deleteTask), taskController.deleteTask);\r\n\r\n\r\n\r\nmodule.exports = router;"],"mappings":"AAAA,MAAMA,OAAO,GAAGC,OAAO,CAAC,SAAS,CAAC;AAClC,MAAMC,QAAQ,GAAGD,OAAO,CAAC,yBAAyB,CAAC;AACnD,MAAME,cAAc,GAAGF,OAAO,CAAC,+BAA+B,CAAC;AAC/D,MAAMG,cAAc,GAAGH,OAAO,CAAC,+BAA+B,CAAC;AAC/D,MAAMI,MAAM,GAAGL,OAAO,CAACM,MAAM,CAAC,CAAC;AAE/BD,MAAM,CACHE,KAAK,CAAC,GAAG,CAAC,CACVC,IAAI,CAACN,QAAQ,CAACC,cAAc,CAACM,UAAU,CAAC,EAAEL,cAAc,CAACK,UAAU,CAAC,CACpEC,GAAG,CAACR,QAAQ,CAACC,cAAc,CAACQ,QAAQ,CAAC,EAAEP,cAAc,CAACO,QAAQ,CAAC;AAElEN,MAAM,CACHE,KAAK,CAAC,OAAO,CAAC,CACdG,GAAG,CAACR,QAAQ,CAACC,cAAc,CAACS,cAAc,CAAC,EAAER,cAAc,CAACQ,cAAc,CAAC;AAE9EP,MAAM,CACHE,KAAK,CAAC,UAAU,CAAC,CACjBG,GAAG,CAACR,QAAQ,CAACC,cAAc,CAACU,OAAO,CAAC,EAAET,cAAc,CAACU,WAAW,CAAC,CACjEC,KAAK,CAACb,QAAQ,CAACC,cAAc,CAACa,UAAU,CAAC,EAAEZ,cAAc,CAACY,UAAU,CAAC,CACrEC,MAAM,CAACf,QAAQ,CAACC,cAAc,CAACe,UAAU,CAAC,EAAEd,cAAc,CAACc,UAAU,CAAC;AAIzEC,MAAM,CAACC,OAAO,GAAGf,MAAM","ignoreList":[]}},"mtime":1712558360618},"{\"assumptions\":{},\"sourceRoot\":\"E:\\\\Work\\\\baitap_todoapp\\\\backend\\\\src\\\\middlewares\\\\\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"E:\\\\Work\\\\baitap_todoapp\\\\backend\",\"filename\":\"E:\\\\Work\\\\baitap_todoapp\\\\backend\\\\src\\\\middlewares\\\\validate.js\",\"targets\":{},\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"browserslistConfigFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"E:\\\\Work\\\\baitap_todoapp\\\\backend\",\"rootMode\":\"root\",\"plugins\":[],\"presets\":[]}:7.24.3:development":{"value":{"code":"const Joi = require('joi');\nconst httpStatus = require('http-status');\nconst pick = require('../utils/pick');\nconst ApiError = require('../utils/ApiError');\nconst validate = schema => (req, res, next) => {\n  const validSchema = pick(schema, ['params', 'query', 'body']);\n  const object = pick(req, Object.keys(validSchema));\n  const {\n    value,\n    error\n  } = Joi.compile(validSchema).prefs({\n    errors: {\n      label: 'key'\n    },\n    abortEarly: false\n  }).validate(object);\n  if (error) {\n    const errorMessage = error.details.map(details => details.message).join(', ');\n    return next(new ApiError(httpStatus.BAD_REQUEST, errorMessage));\n  }\n  Object.assign(req, value);\n  return next();\n};\nmodule.exports = validate;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJKb2kiLCJyZXF1aXJlIiwiaHR0cFN0YXR1cyIsInBpY2siLCJBcGlFcnJvciIsInZhbGlkYXRlIiwic2NoZW1hIiwicmVxIiwicmVzIiwibmV4dCIsInZhbGlkU2NoZW1hIiwib2JqZWN0IiwiT2JqZWN0Iiwia2V5cyIsInZhbHVlIiwiZXJyb3IiLCJjb21waWxlIiwicHJlZnMiLCJlcnJvcnMiLCJsYWJlbCIsImFib3J0RWFybHkiLCJlcnJvck1lc3NhZ2UiLCJkZXRhaWxzIiwibWFwIiwibWVzc2FnZSIsImpvaW4iLCJCQURfUkVRVUVTVCIsImFzc2lnbiIsIm1vZHVsZSIsImV4cG9ydHMiXSwic291cmNlUm9vdCI6IkU6XFxXb3JrXFxiYWl0YXBfdG9kb2FwcFxcYmFja2VuZFxcc3JjXFxtaWRkbGV3YXJlc1xcIiwic291cmNlcyI6WyJ2YWxpZGF0ZS5qcyJdLCJzb3VyY2VzQ29udGVudCI6WyJjb25zdCBKb2kgPSByZXF1aXJlKCdqb2knKTtcbmNvbnN0IGh0dHBTdGF0dXMgPSByZXF1aXJlKCdodHRwLXN0YXR1cycpO1xuY29uc3QgcGljayA9IHJlcXVpcmUoJy4uL3V0aWxzL3BpY2snKTtcbmNvbnN0IEFwaUVycm9yID0gcmVxdWlyZSgnLi4vdXRpbHMvQXBpRXJyb3InKTtcblxuY29uc3QgdmFsaWRhdGUgPSAoc2NoZW1hKSA9PiAocmVxLCByZXMsIG5leHQpID0+IHtcbiAgY29uc3QgdmFsaWRTY2hlbWEgPSBwaWNrKHNjaGVtYSwgWydwYXJhbXMnLCAncXVlcnknLCAnYm9keSddKTtcbiAgY29uc3Qgb2JqZWN0ID0gcGljayhyZXEsIE9iamVjdC5rZXlzKHZhbGlkU2NoZW1hKSk7XG4gIGNvbnN0IHsgdmFsdWUsIGVycm9yIH0gPSBKb2kuY29tcGlsZSh2YWxpZFNjaGVtYSlcbiAgICAucHJlZnMoeyBlcnJvcnM6IHsgbGFiZWw6ICdrZXknIH0sIGFib3J0RWFybHk6IGZhbHNlIH0pXG4gICAgLnZhbGlkYXRlKG9iamVjdCk7XG5cbiAgaWYgKGVycm9yKSB7XG4gICAgY29uc3QgZXJyb3JNZXNzYWdlID0gZXJyb3IuZGV0YWlscy5tYXAoKGRldGFpbHMpID0+IGRldGFpbHMubWVzc2FnZSkuam9pbignLCAnKTtcbiAgICByZXR1cm4gbmV4dChuZXcgQXBpRXJyb3IoaHR0cFN0YXR1cy5CQURfUkVRVUVTVCwgZXJyb3JNZXNzYWdlKSk7XG4gIH1cbiAgT2JqZWN0LmFzc2lnbihyZXEsIHZhbHVlKTtcbiAgcmV0dXJuIG5leHQoKTtcbn07XG5cbm1vZHVsZS5leHBvcnRzID0gdmFsaWRhdGU7XG4iXSwibWFwcGluZ3MiOiJBQUFBLE1BQU1BLEdBQUcsR0FBR0MsT0FBTyxDQUFDLEtBQUssQ0FBQztBQUMxQixNQUFNQyxVQUFVLEdBQUdELE9BQU8sQ0FBQyxhQUFhLENBQUM7QUFDekMsTUFBTUUsSUFBSSxHQUFHRixPQUFPLENBQUMsZUFBZSxDQUFDO0FBQ3JDLE1BQU1HLFFBQVEsR0FBR0gsT0FBTyxDQUFDLG1CQUFtQixDQUFDO0FBRTdDLE1BQU1JLFFBQVEsR0FBSUMsTUFBTSxJQUFLLENBQUNDLEdBQUcsRUFBRUMsR0FBRyxFQUFFQyxJQUFJLEtBQUs7RUFDL0MsTUFBTUMsV0FBVyxHQUFHUCxJQUFJLENBQUNHLE1BQU0sRUFBRSxDQUFDLFFBQVEsRUFBRSxPQUFPLEVBQUUsTUFBTSxDQUFDLENBQUM7RUFDN0QsTUFBTUssTUFBTSxHQUFHUixJQUFJLENBQUNJLEdBQUcsRUFBRUssTUFBTSxDQUFDQyxJQUFJLENBQUNILFdBQVcsQ0FBQyxDQUFDO0VBQ2xELE1BQU07SUFBRUksS0FBSztJQUFFQztFQUFNLENBQUMsR0FBR2YsR0FBRyxDQUFDZ0IsT0FBTyxDQUFDTixXQUFXLENBQUMsQ0FDOUNPLEtBQUssQ0FBQztJQUFFQyxNQUFNLEVBQUU7TUFBRUMsS0FBSyxFQUFFO0lBQU0sQ0FBQztJQUFFQyxVQUFVLEVBQUU7RUFBTSxDQUFDLENBQUMsQ0FDdERmLFFBQVEsQ0FBQ00sTUFBTSxDQUFDO0VBRW5CLElBQUlJLEtBQUssRUFBRTtJQUNULE1BQU1NLFlBQVksR0FBR04sS0FBSyxDQUFDTyxPQUFPLENBQUNDLEdBQUcsQ0FBRUQsT0FBTyxJQUFLQSxPQUFPLENBQUNFLE9BQU8sQ0FBQyxDQUFDQyxJQUFJLENBQUMsSUFBSSxDQUFDO0lBQy9FLE9BQU9oQixJQUFJLENBQUMsSUFBSUwsUUFBUSxDQUFDRixVQUFVLENBQUN3QixXQUFXLEVBQUVMLFlBQVksQ0FBQyxDQUFDO0VBQ2pFO0VBQ0FULE1BQU0sQ0FBQ2UsTUFBTSxDQUFDcEIsR0FBRyxFQUFFTyxLQUFLLENBQUM7RUFDekIsT0FBT0wsSUFBSSxDQUFDLENBQUM7QUFDZixDQUFDO0FBRURtQixNQUFNLENBQUNDLE9BQU8sR0FBR3hCLFFBQVEiLCJpZ25vcmVMaXN0IjpbXX0=","map":{"version":3,"names":["Joi","require","httpStatus","pick","ApiError","validate","schema","req","res","next","validSchema","object","Object","keys","value","error","compile","prefs","errors","label","abortEarly","errorMessage","details","map","message","join","BAD_REQUEST","assign","module","exports"],"sourceRoot":"E:\\Work\\baitap_todoapp\\backend\\src\\middlewares\\","sources":["validate.js"],"sourcesContent":["const Joi = require('joi');\nconst httpStatus = require('http-status');\nconst pick = require('../utils/pick');\nconst ApiError = require('../utils/ApiError');\n\nconst validate = (schema) => (req, res, next) => {\n  const validSchema = pick(schema, ['params', 'query', 'body']);\n  const object = pick(req, Object.keys(validSchema));\n  const { value, error } = Joi.compile(validSchema)\n    .prefs({ errors: { label: 'key' }, abortEarly: false })\n    .validate(object);\n\n  if (error) {\n    const errorMessage = error.details.map((details) => details.message).join(', ');\n    return next(new ApiError(httpStatus.BAD_REQUEST, errorMessage));\n  }\n  Object.assign(req, value);\n  return next();\n};\n\nmodule.exports = validate;\n"],"mappings":"AAAA,MAAMA,GAAG,GAAGC,OAAO,CAAC,KAAK,CAAC;AAC1B,MAAMC,UAAU,GAAGD,OAAO,CAAC,aAAa,CAAC;AACzC,MAAME,IAAI,GAAGF,OAAO,CAAC,eAAe,CAAC;AACrC,MAAMG,QAAQ,GAAGH,OAAO,CAAC,mBAAmB,CAAC;AAE7C,MAAMI,QAAQ,GAAIC,MAAM,IAAK,CAACC,GAAG,EAAEC,GAAG,EAAEC,IAAI,KAAK;EAC/C,MAAMC,WAAW,GAAGP,IAAI,CAACG,MAAM,EAAE,CAAC,QAAQ,EAAE,OAAO,EAAE,MAAM,CAAC,CAAC;EAC7D,MAAMK,MAAM,GAAGR,IAAI,CAACI,GAAG,EAAEK,MAAM,CAACC,IAAI,CAACH,WAAW,CAAC,CAAC;EAClD,MAAM;IAAEI,KAAK;IAAEC;EAAM,CAAC,GAAGf,GAAG,CAACgB,OAAO,CAACN,WAAW,CAAC,CAC9CO,KAAK,CAAC;IAAEC,MAAM,EAAE;MAAEC,KAAK,EAAE;IAAM,CAAC;IAAEC,UAAU,EAAE;EAAM,CAAC,CAAC,CACtDf,QAAQ,CAACM,MAAM,CAAC;EAEnB,IAAII,KAAK,EAAE;IACT,MAAMM,YAAY,GAAGN,KAAK,CAACO,OAAO,CAACC,GAAG,CAAED,OAAO,IAAKA,OAAO,CAACE,OAAO,CAAC,CAACC,IAAI,CAAC,IAAI,CAAC;IAC/E,OAAOhB,IAAI,CAAC,IAAIL,QAAQ,CAACF,UAAU,CAACwB,WAAW,EAAEL,YAAY,CAAC,CAAC;EACjE;EACAT,MAAM,CAACe,MAAM,CAACpB,GAAG,EAAEO,KAAK,CAAC;EACzB,OAAOL,IAAI,CAAC,CAAC;AACf,CAAC;AAEDmB,MAAM,CAACC,OAAO,GAAGxB,QAAQ","ignoreList":[]}},"mtime":1712550042847},"{\"assumptions\":{},\"sourceRoot\":\"E:\\\\Work\\\\baitap_todoapp\\\\backend\\\\src\\\\utils\\\\\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"E:\\\\Work\\\\baitap_todoapp\\\\backend\",\"filename\":\"E:\\\\Work\\\\baitap_todoapp\\\\backend\\\\src\\\\utils\\\\pick.js\",\"targets\":{},\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"browserslistConfigFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"E:\\\\Work\\\\baitap_todoapp\\\\backend\",\"rootMode\":\"root\",\"plugins\":[],\"presets\":[]}:7.24.3:development":{"value":{"code":"/**\n * Create an object composed of the picked object properties\n * @param {Object} object\n * @param {string[]} keys\n * @returns {Object}\n */\nconst pick = (object, keys) => {\n  return keys.reduce((obj, key) => {\n    if (object && Object.prototype.hasOwnProperty.call(object, key)) {\n      // eslint-disable-next-line no-param-reassign\n      obj[key] = object[key];\n    }\n    return obj;\n  }, {});\n};\nmodule.exports = pick;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJwaWNrIiwib2JqZWN0Iiwia2V5cyIsInJlZHVjZSIsIm9iaiIsImtleSIsIk9iamVjdCIsInByb3RvdHlwZSIsImhhc093blByb3BlcnR5IiwiY2FsbCIsIm1vZHVsZSIsImV4cG9ydHMiXSwic291cmNlUm9vdCI6IkU6XFxXb3JrXFxiYWl0YXBfdG9kb2FwcFxcYmFja2VuZFxcc3JjXFx1dGlsc1xcIiwic291cmNlcyI6WyJwaWNrLmpzIl0sInNvdXJjZXNDb250ZW50IjpbIi8qKlxuICogQ3JlYXRlIGFuIG9iamVjdCBjb21wb3NlZCBvZiB0aGUgcGlja2VkIG9iamVjdCBwcm9wZXJ0aWVzXG4gKiBAcGFyYW0ge09iamVjdH0gb2JqZWN0XG4gKiBAcGFyYW0ge3N0cmluZ1tdfSBrZXlzXG4gKiBAcmV0dXJucyB7T2JqZWN0fVxuICovXG5jb25zdCBwaWNrID0gKG9iamVjdCwga2V5cykgPT4ge1xuICByZXR1cm4ga2V5cy5yZWR1Y2UoKG9iaiwga2V5KSA9PiB7XG4gICAgaWYgKG9iamVjdCAmJiBPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwob2JqZWN0LCBrZXkpKSB7XG4gICAgICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgbm8tcGFyYW0tcmVhc3NpZ25cbiAgICAgIG9ialtrZXldID0gb2JqZWN0W2tleV07XG4gICAgfVxuICAgIHJldHVybiBvYmo7XG4gIH0sIHt9KTtcbn07XG5cbm1vZHVsZS5leHBvcnRzID0gcGljaztcbiJdLCJtYXBwaW5ncyI6IkFBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsTUFBTUEsSUFBSSxHQUFHQSxDQUFDQyxNQUFNLEVBQUVDLElBQUksS0FBSztFQUM3QixPQUFPQSxJQUFJLENBQUNDLE1BQU0sQ0FBQyxDQUFDQyxHQUFHLEVBQUVDLEdBQUcsS0FBSztJQUMvQixJQUFJSixNQUFNLElBQUlLLE1BQU0sQ0FBQ0MsU0FBUyxDQUFDQyxjQUFjLENBQUNDLElBQUksQ0FBQ1IsTUFBTSxFQUFFSSxHQUFHLENBQUMsRUFBRTtNQUMvRDtNQUNBRCxHQUFHLENBQUNDLEdBQUcsQ0FBQyxHQUFHSixNQUFNLENBQUNJLEdBQUcsQ0FBQztJQUN4QjtJQUNBLE9BQU9ELEdBQUc7RUFDWixDQUFDLEVBQUUsQ0FBQyxDQUFDLENBQUM7QUFDUixDQUFDO0FBRURNLE1BQU0sQ0FBQ0MsT0FBTyxHQUFHWCxJQUFJIiwiaWdub3JlTGlzdCI6W119","map":{"version":3,"names":["pick","object","keys","reduce","obj","key","Object","prototype","hasOwnProperty","call","module","exports"],"sourceRoot":"E:\\Work\\baitap_todoapp\\backend\\src\\utils\\","sources":["pick.js"],"sourcesContent":["/**\n * Create an object composed of the picked object properties\n * @param {Object} object\n * @param {string[]} keys\n * @returns {Object}\n */\nconst pick = (object, keys) => {\n  return keys.reduce((obj, key) => {\n    if (object && Object.prototype.hasOwnProperty.call(object, key)) {\n      // eslint-disable-next-line no-param-reassign\n      obj[key] = object[key];\n    }\n    return obj;\n  }, {});\n};\n\nmodule.exports = pick;\n"],"mappings":"AAAA;AACA;AACA;AACA;AACA;AACA;AACA,MAAMA,IAAI,GAAGA,CAACC,MAAM,EAAEC,IAAI,KAAK;EAC7B,OAAOA,IAAI,CAACC,MAAM,CAAC,CAACC,GAAG,EAAEC,GAAG,KAAK;IAC/B,IAAIJ,MAAM,IAAIK,MAAM,CAACC,SAAS,CAACC,cAAc,CAACC,IAAI,CAACR,MAAM,EAAEI,GAAG,CAAC,EAAE;MAC/D;MACAD,GAAG,CAACC,GAAG,CAAC,GAAGJ,MAAM,CAACI,GAAG,CAAC;IACxB;IACA,OAAOD,GAAG;EACZ,CAAC,EAAE,CAAC,CAAC,CAAC;AACR,CAAC;AAEDM,MAAM,CAACC,OAAO,GAAGX,IAAI","ignoreList":[]}},"mtime":1712050935897},"{\"assumptions\":{},\"sourceRoot\":\"E:\\\\Work\\\\baitap_todoapp\\\\backend\\\\src\\\\vaditations\\\\\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"E:\\\\Work\\\\baitap_todoapp\\\\backend\",\"filename\":\"E:\\\\Work\\\\baitap_todoapp\\\\backend\\\\src\\\\vaditations\\\\taskVadilation.js\",\"targets\":{},\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"browserslistConfigFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"E:\\\\Work\\\\baitap_todoapp\\\\backend\",\"rootMode\":\"root\",\"plugins\":[],\"presets\":[]}:7.24.3:development":{"value":{"code":"const {\n  query\n} = require('express');\nconst Joi = require('joi');\nconst createTask = {\n  body: Joi.object().keys({\n    title: Joi.string().required(),\n    content: Joi.string(),\n    assigneeID: Joi.number().default(0),\n    status: Joi.number().required().valid(1, 2, 3)\n  })\n};\nconst getTasks = {\n  query: Joi.object().keys({\n    limit: Joi.number().integer(),\n    page: Joi.number().integer()\n  })\n};\nconst getTaskByTitle = {\n  query: Joi.object().keys({\n    title: Joi.string().required()\n  })\n};\nconst getTask = {\n  params: Joi.object().keys({\n    taskId: Joi.string().regex(/^[0-9a-fA-F]{24}$/).required()\n  })\n};\nconst updateTask = {\n  params: Joi.object().keys({\n    taskId: Joi.string().regex(/^[0-9a-fA-F]{24}$/).required()\n  }),\n  body: Joi.object().keys({\n    title: Joi.string().required(),\n    content: Joi.string(),\n    assigneeID: Joi.number().default(0),\n    status: Joi.number().required().valid(1, 2, 3)\n  }).min(1)\n};\nconst deleteTask = {\n  params: Joi.object().keys({\n    taskId: Joi.string().regex(/^[0-9a-fA-F]{24}$/).required()\n  })\n};\nmodule.exports = {\n  createTask,\n  getTasks,\n  getTask,\n  getTaskByTitle,\n  updateTask,\n  deleteTask\n};\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJxdWVyeSIsInJlcXVpcmUiLCJKb2kiLCJjcmVhdGVUYXNrIiwiYm9keSIsIm9iamVjdCIsImtleXMiLCJ0aXRsZSIsInN0cmluZyIsInJlcXVpcmVkIiwiY29udGVudCIsImFzc2lnbmVlSUQiLCJudW1iZXIiLCJkZWZhdWx0Iiwic3RhdHVzIiwidmFsaWQiLCJnZXRUYXNrcyIsImxpbWl0IiwiaW50ZWdlciIsInBhZ2UiLCJnZXRUYXNrQnlUaXRsZSIsImdldFRhc2siLCJwYXJhbXMiLCJ0YXNrSWQiLCJyZWdleCIsInVwZGF0ZVRhc2siLCJtaW4iLCJkZWxldGVUYXNrIiwibW9kdWxlIiwiZXhwb3J0cyJdLCJzb3VyY2VSb290IjoiRTpcXFdvcmtcXGJhaXRhcF90b2RvYXBwXFxiYWNrZW5kXFxzcmNcXHZhZGl0YXRpb25zXFwiLCJzb3VyY2VzIjpbInRhc2tWYWRpbGF0aW9uLmpzIl0sInNvdXJjZXNDb250ZW50IjpbImNvbnN0IHsgcXVlcnkgfSA9IHJlcXVpcmUoJ2V4cHJlc3MnKTtcclxuY29uc3QgSm9pID0gcmVxdWlyZSgnam9pJyk7XHJcblxyXG5jb25zdCBjcmVhdGVUYXNrID0ge1xyXG4gIGJvZHk6IEpvaS5vYmplY3QoKS5rZXlzKHtcclxuICAgIHRpdGxlOiBKb2kuc3RyaW5nKCkucmVxdWlyZWQoKSxcclxuICAgIGNvbnRlbnQ6IEpvaS5zdHJpbmcoKSxcclxuICAgIGFzc2lnbmVlSUQ6IEpvaS5udW1iZXIoKS5kZWZhdWx0KDApLFxyXG4gICAgc3RhdHVzOiBKb2kubnVtYmVyKCkucmVxdWlyZWQoKS52YWxpZCgxLCAyLCAzKSxcclxuICB9KSxcclxufTtcclxuXHJcbmNvbnN0IGdldFRhc2tzID0ge1xyXG4gIHF1ZXJ5OiBKb2kub2JqZWN0KCkua2V5cyh7XHJcbiAgICBsaW1pdDogSm9pLm51bWJlcigpLmludGVnZXIoKSxcclxuICAgIHBhZ2U6IEpvaS5udW1iZXIoKS5pbnRlZ2VyKCksXHJcbiAgfSksXHJcbn07XHJcblxyXG5jb25zdCBnZXRUYXNrQnlUaXRsZSA9IHtcclxuICBxdWVyeTogSm9pLm9iamVjdCgpLmtleXMoe1xyXG4gICAgdGl0bGU6IEpvaS5zdHJpbmcoKS5yZXF1aXJlZCgpLFxyXG4gIH0pLFxyXG59O1xyXG5cclxuY29uc3QgZ2V0VGFzayA9IHtcclxuICBwYXJhbXM6IEpvaS5vYmplY3QoKS5rZXlzKHtcclxuICAgIHRhc2tJZDogSm9pLnN0cmluZygpLnJlZ2V4KC9eWzAtOWEtZkEtRl17MjR9JC8pLnJlcXVpcmVkKCksXHJcbiAgfSksXHJcbn07XHJcblxyXG5jb25zdCB1cGRhdGVUYXNrID0ge1xyXG4gIHBhcmFtczogSm9pLm9iamVjdCgpLmtleXMoe1xyXG4gICB0YXNrSWQ6IEpvaS5zdHJpbmcoKS5yZWdleCgvXlswLTlhLWZBLUZdezI0fSQvKS5yZXF1aXJlZCgpLFxyXG4gIH0pLFxyXG4gIGJvZHk6IEpvaS5vYmplY3QoKS5rZXlzKHtcclxuICAgIHRpdGxlOiBKb2kuc3RyaW5nKCkucmVxdWlyZWQoKSxcclxuICAgIGNvbnRlbnQ6IEpvaS5zdHJpbmcoKSxcclxuICAgIGFzc2lnbmVlSUQ6IEpvaS5udW1iZXIoKS5kZWZhdWx0KDApLFxyXG4gICAgc3RhdHVzOiBKb2kubnVtYmVyKCkucmVxdWlyZWQoKS52YWxpZCgxLCAyLCAzKSxcclxuICB9KVxyXG4gICAgLm1pbigxKSxcclxufTtcclxuXHJcbmNvbnN0IGRlbGV0ZVRhc2sgPSB7XHJcbiAgcGFyYW1zOiBKb2kub2JqZWN0KCkua2V5cyh7XHJcbiAgICB0YXNrSWQ6IEpvaS5zdHJpbmcoKS5yZWdleCgvXlswLTlhLWZBLUZdezI0fSQvKS5yZXF1aXJlZCgpLFxyXG4gIH0pLFxyXG59O1xyXG5cclxubW9kdWxlLmV4cG9ydHMgPSB7XHJcbiAgY3JlYXRlVGFzayxcclxuICBnZXRUYXNrcyxcclxuICBnZXRUYXNrLFxyXG4gIGdldFRhc2tCeVRpdGxlLFxyXG4gIHVwZGF0ZVRhc2ssXHJcbiAgZGVsZXRlVGFzayxcclxufTtcclxuIl0sIm1hcHBpbmdzIjoiQUFBQSxNQUFNO0VBQUVBO0FBQU0sQ0FBQyxHQUFHQyxPQUFPLENBQUMsU0FBUyxDQUFDO0FBQ3BDLE1BQU1DLEdBQUcsR0FBR0QsT0FBTyxDQUFDLEtBQUssQ0FBQztBQUUxQixNQUFNRSxVQUFVLEdBQUc7RUFDakJDLElBQUksRUFBRUYsR0FBRyxDQUFDRyxNQUFNLENBQUMsQ0FBQyxDQUFDQyxJQUFJLENBQUM7SUFDdEJDLEtBQUssRUFBRUwsR0FBRyxDQUFDTSxNQUFNLENBQUMsQ0FBQyxDQUFDQyxRQUFRLENBQUMsQ0FBQztJQUM5QkMsT0FBTyxFQUFFUixHQUFHLENBQUNNLE1BQU0sQ0FBQyxDQUFDO0lBQ3JCRyxVQUFVLEVBQUVULEdBQUcsQ0FBQ1UsTUFBTSxDQUFDLENBQUMsQ0FBQ0MsT0FBTyxDQUFDLENBQUMsQ0FBQztJQUNuQ0MsTUFBTSxFQUFFWixHQUFHLENBQUNVLE1BQU0sQ0FBQyxDQUFDLENBQUNILFFBQVEsQ0FBQyxDQUFDLENBQUNNLEtBQUssQ0FBQyxDQUFDLEVBQUUsQ0FBQyxFQUFFLENBQUM7RUFDL0MsQ0FBQztBQUNILENBQUM7QUFFRCxNQUFNQyxRQUFRLEdBQUc7RUFDZmhCLEtBQUssRUFBRUUsR0FBRyxDQUFDRyxNQUFNLENBQUMsQ0FBQyxDQUFDQyxJQUFJLENBQUM7SUFDdkJXLEtBQUssRUFBRWYsR0FBRyxDQUFDVSxNQUFNLENBQUMsQ0FBQyxDQUFDTSxPQUFPLENBQUMsQ0FBQztJQUM3QkMsSUFBSSxFQUFFakIsR0FBRyxDQUFDVSxNQUFNLENBQUMsQ0FBQyxDQUFDTSxPQUFPLENBQUM7RUFDN0IsQ0FBQztBQUNILENBQUM7QUFFRCxNQUFNRSxjQUFjLEdBQUc7RUFDckJwQixLQUFLLEVBQUVFLEdBQUcsQ0FBQ0csTUFBTSxDQUFDLENBQUMsQ0FBQ0MsSUFBSSxDQUFDO0lBQ3ZCQyxLQUFLLEVBQUVMLEdBQUcsQ0FBQ00sTUFBTSxDQUFDLENBQUMsQ0FBQ0MsUUFBUSxDQUFDO0VBQy9CLENBQUM7QUFDSCxDQUFDO0FBRUQsTUFBTVksT0FBTyxHQUFHO0VBQ2RDLE1BQU0sRUFBRXBCLEdBQUcsQ0FBQ0csTUFBTSxDQUFDLENBQUMsQ0FBQ0MsSUFBSSxDQUFDO0lBQ3hCaUIsTUFBTSxFQUFFckIsR0FBRyxDQUFDTSxNQUFNLENBQUMsQ0FBQyxDQUFDZ0IsS0FBSyxDQUFDLG1CQUFtQixDQUFDLENBQUNmLFFBQVEsQ0FBQztFQUMzRCxDQUFDO0FBQ0gsQ0FBQztBQUVELE1BQU1nQixVQUFVLEdBQUc7RUFDakJILE1BQU0sRUFBRXBCLEdBQUcsQ0FBQ0csTUFBTSxDQUFDLENBQUMsQ0FBQ0MsSUFBSSxDQUFDO0lBQ3pCaUIsTUFBTSxFQUFFckIsR0FBRyxDQUFDTSxNQUFNLENBQUMsQ0FBQyxDQUFDZ0IsS0FBSyxDQUFDLG1CQUFtQixDQUFDLENBQUNmLFFBQVEsQ0FBQztFQUMxRCxDQUFDLENBQUM7RUFDRkwsSUFBSSxFQUFFRixHQUFHLENBQUNHLE1BQU0sQ0FBQyxDQUFDLENBQUNDLElBQUksQ0FBQztJQUN0QkMsS0FBSyxFQUFFTCxHQUFHLENBQUNNLE1BQU0sQ0FBQyxDQUFDLENBQUNDLFFBQVEsQ0FBQyxDQUFDO0lBQzlCQyxPQUFPLEVBQUVSLEdBQUcsQ0FBQ00sTUFBTSxDQUFDLENBQUM7SUFDckJHLFVBQVUsRUFBRVQsR0FBRyxDQUFDVSxNQUFNLENBQUMsQ0FBQyxDQUFDQyxPQUFPLENBQUMsQ0FBQyxDQUFDO0lBQ25DQyxNQUFNLEVBQUVaLEdBQUcsQ0FBQ1UsTUFBTSxDQUFDLENBQUMsQ0FBQ0gsUUFBUSxDQUFDLENBQUMsQ0FBQ00sS0FBSyxDQUFDLENBQUMsRUFBRSxDQUFDLEVBQUUsQ0FBQztFQUMvQyxDQUFDLENBQUMsQ0FDQ1csR0FBRyxDQUFDLENBQUM7QUFDVixDQUFDO0FBRUQsTUFBTUMsVUFBVSxHQUFHO0VBQ2pCTCxNQUFNLEVBQUVwQixHQUFHLENBQUNHLE1BQU0sQ0FBQyxDQUFDLENBQUNDLElBQUksQ0FBQztJQUN4QmlCLE1BQU0sRUFBRXJCLEdBQUcsQ0FBQ00sTUFBTSxDQUFDLENBQUMsQ0FBQ2dCLEtBQUssQ0FBQyxtQkFBbUIsQ0FBQyxDQUFDZixRQUFRLENBQUM7RUFDM0QsQ0FBQztBQUNILENBQUM7QUFFRG1CLE1BQU0sQ0FBQ0MsT0FBTyxHQUFHO0VBQ2YxQixVQUFVO0VBQ1ZhLFFBQVE7RUFDUkssT0FBTztFQUNQRCxjQUFjO0VBQ2RLLFVBQVU7RUFDVkU7QUFDRixDQUFDIiwiaWdub3JlTGlzdCI6W119","map":{"version":3,"names":["query","require","Joi","createTask","body","object","keys","title","string","required","content","assigneeID","number","default","status","valid","getTasks","limit","integer","page","getTaskByTitle","getTask","params","taskId","regex","updateTask","min","deleteTask","module","exports"],"sourceRoot":"E:\\Work\\baitap_todoapp\\backend\\src\\vaditations\\","sources":["taskVadilation.js"],"sourcesContent":["const { query } = require('express');\r\nconst Joi = require('joi');\r\n\r\nconst createTask = {\r\n  body: Joi.object().keys({\r\n    title: Joi.string().required(),\r\n    content: Joi.string(),\r\n    assigneeID: Joi.number().default(0),\r\n    status: Joi.number().required().valid(1, 2, 3),\r\n  }),\r\n};\r\n\r\nconst getTasks = {\r\n  query: Joi.object().keys({\r\n    limit: Joi.number().integer(),\r\n    page: Joi.number().integer(),\r\n  }),\r\n};\r\n\r\nconst getTaskByTitle = {\r\n  query: Joi.object().keys({\r\n    title: Joi.string().required(),\r\n  }),\r\n};\r\n\r\nconst getTask = {\r\n  params: Joi.object().keys({\r\n    taskId: Joi.string().regex(/^[0-9a-fA-F]{24}$/).required(),\r\n  }),\r\n};\r\n\r\nconst updateTask = {\r\n  params: Joi.object().keys({\r\n   taskId: Joi.string().regex(/^[0-9a-fA-F]{24}$/).required(),\r\n  }),\r\n  body: Joi.object().keys({\r\n    title: Joi.string().required(),\r\n    content: Joi.string(),\r\n    assigneeID: Joi.number().default(0),\r\n    status: Joi.number().required().valid(1, 2, 3),\r\n  })\r\n    .min(1),\r\n};\r\n\r\nconst deleteTask = {\r\n  params: Joi.object().keys({\r\n    taskId: Joi.string().regex(/^[0-9a-fA-F]{24}$/).required(),\r\n  }),\r\n};\r\n\r\nmodule.exports = {\r\n  createTask,\r\n  getTasks,\r\n  getTask,\r\n  getTaskByTitle,\r\n  updateTask,\r\n  deleteTask,\r\n};\r\n"],"mappings":"AAAA,MAAM;EAAEA;AAAM,CAAC,GAAGC,OAAO,CAAC,SAAS,CAAC;AACpC,MAAMC,GAAG,GAAGD,OAAO,CAAC,KAAK,CAAC;AAE1B,MAAME,UAAU,GAAG;EACjBC,IAAI,EAAEF,GAAG,CAACG,MAAM,CAAC,CAAC,CAACC,IAAI,CAAC;IACtBC,KAAK,EAAEL,GAAG,CAACM,MAAM,CAAC,CAAC,CAACC,QAAQ,CAAC,CAAC;IAC9BC,OAAO,EAAER,GAAG,CAACM,MAAM,CAAC,CAAC;IACrBG,UAAU,EAAET,GAAG,CAACU,MAAM,CAAC,CAAC,CAACC,OAAO,CAAC,CAAC,CAAC;IACnCC,MAAM,EAAEZ,GAAG,CAACU,MAAM,CAAC,CAAC,CAACH,QAAQ,CAAC,CAAC,CAACM,KAAK,CAAC,CAAC,EAAE,CAAC,EAAE,CAAC;EAC/C,CAAC;AACH,CAAC;AAED,MAAMC,QAAQ,GAAG;EACfhB,KAAK,EAAEE,GAAG,CAACG,MAAM,CAAC,CAAC,CAACC,IAAI,CAAC;IACvBW,KAAK,EAAEf,GAAG,CAACU,MAAM,CAAC,CAAC,CAACM,OAAO,CAAC,CAAC;IAC7BC,IAAI,EAAEjB,GAAG,CAACU,MAAM,CAAC,CAAC,CAACM,OAAO,CAAC;EAC7B,CAAC;AACH,CAAC;AAED,MAAME,cAAc,GAAG;EACrBpB,KAAK,EAAEE,GAAG,CAACG,MAAM,CAAC,CAAC,CAACC,IAAI,CAAC;IACvBC,KAAK,EAAEL,GAAG,CAACM,MAAM,CAAC,CAAC,CAACC,QAAQ,CAAC;EAC/B,CAAC;AACH,CAAC;AAED,MAAMY,OAAO,GAAG;EACdC,MAAM,EAAEpB,GAAG,CAACG,MAAM,CAAC,CAAC,CAACC,IAAI,CAAC;IACxBiB,MAAM,EAAErB,GAAG,CAACM,MAAM,CAAC,CAAC,CAACgB,KAAK,CAAC,mBAAmB,CAAC,CAACf,QAAQ,CAAC;EAC3D,CAAC;AACH,CAAC;AAED,MAAMgB,UAAU,GAAG;EACjBH,MAAM,EAAEpB,GAAG,CAACG,MAAM,CAAC,CAAC,CAACC,IAAI,CAAC;IACzBiB,MAAM,EAAErB,GAAG,CAACM,MAAM,CAAC,CAAC,CAACgB,KAAK,CAAC,mBAAmB,CAAC,CAACf,QAAQ,CAAC;EAC1D,CAAC,CAAC;EACFL,IAAI,EAAEF,GAAG,CAACG,MAAM,CAAC,CAAC,CAACC,IAAI,CAAC;IACtBC,KAAK,EAAEL,GAAG,CAACM,MAAM,CAAC,CAAC,CAACC,QAAQ,CAAC,CAAC;IAC9BC,OAAO,EAAER,GAAG,CAACM,MAAM,CAAC,CAAC;IACrBG,UAAU,EAAET,GAAG,CAACU,MAAM,CAAC,CAAC,CAACC,OAAO,CAAC,CAAC,CAAC;IACnCC,MAAM,EAAEZ,GAAG,CAACU,MAAM,CAAC,CAAC,CAACH,QAAQ,CAAC,CAAC,CAACM,KAAK,CAAC,CAAC,EAAE,CAAC,EAAE,CAAC;EAC/C,CAAC,CAAC,CACCW,GAAG,CAAC,CAAC;AACV,CAAC;AAED,MAAMC,UAAU,GAAG;EACjBL,MAAM,EAAEpB,GAAG,CAACG,MAAM,CAAC,CAAC,CAACC,IAAI,CAAC;IACxBiB,MAAM,EAAErB,GAAG,CAACM,MAAM,CAAC,CAAC,CAACgB,KAAK,CAAC,mBAAmB,CAAC,CAACf,QAAQ,CAAC;EAC3D,CAAC;AACH,CAAC;AAEDmB,MAAM,CAACC,OAAO,GAAG;EACf1B,UAAU;EACVa,QAAQ;EACRK,OAAO;EACPD,cAAc;EACdK,UAAU;EACVE;AACF,CAAC","ignoreList":[]}},"mtime":1712558390368},"{\"assumptions\":{},\"sourceRoot\":\"E:\\\\Work\\\\baitap_todoapp\\\\backend\\\\src\\\\controllers\\\\\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"E:\\\\Work\\\\baitap_todoapp\\\\backend\",\"filename\":\"E:\\\\Work\\\\baitap_todoapp\\\\backend\\\\src\\\\controllers\\\\taskController.js\",\"targets\":{},\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"browserslistConfigFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"E:\\\\Work\\\\baitap_todoapp\\\\backend\",\"rootMode\":\"root\",\"plugins\":[],\"presets\":[]}:7.24.3:development":{"value":{"code":"const httpStatus = require('http-status');\nconst pick = require('../utils/pick');\nconst ApiError = require('../utils/ApiError');\nconst catchAsync = require('../utils/catchAsync');\nconst {\n  taskService\n} = require('../services');\nconst createTask = catchAsync(async (req, res) => {\n  const task = await taskService.createTask(req.body);\n  res.status(httpStatus.CREATED).send(task);\n});\nconst getTasks = catchAsync(async (req, res) => {\n  const filter = pick(req.query, ['createAt']);\n  const options = pick(req.query, ['sortBy', 'limit', 'page']);\n  const result = await taskService.queryTasks(filter, options);\n  res.send(result);\n});\nconst getTaskByID = catchAsync(async (req, res) => {\n  console.log(req.params);\n  const task = await taskService.getTaskById(req.params.taskId);\n  if (!task) {\n    throw new ApiError(httpStatus.NOT_FOUND, 'Task not found');\n  }\n  res.send(task);\n});\nconst getTaskByTitle = catchAsync(async (req, res) => {\n  const filter = {\n    title: {\n      $regex: req.query.title\n    }\n  };\n  const options = pick(req.query, ['sortBy', 'limit', 'page']);\n  const result = await taskService.queryTasks(filter, options);\n  res.send(result);\n});\nconst updateTask = catchAsync(async (req, res) => {\n  const task = await taskService.updateTaskById(req.params.taskId, req.body);\n  res.send(task);\n});\nconst deleteTask = catchAsync(async (req, res) => {\n  //await taskService.deleteTaskById(req.params.taskId);\n  console.log(req.params.taskId);\n  res.status(httpStatus.NO_CONTENT).send('Delete Successful');\n});\nmodule.exports = {\n  createTask,\n  getTasks,\n  getTaskByID,\n  getTaskByTitle,\n  updateTask,\n  deleteTask\n};\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJodHRwU3RhdHVzIiwicmVxdWlyZSIsInBpY2siLCJBcGlFcnJvciIsImNhdGNoQXN5bmMiLCJ0YXNrU2VydmljZSIsImNyZWF0ZVRhc2siLCJyZXEiLCJyZXMiLCJ0YXNrIiwiYm9keSIsInN0YXR1cyIsIkNSRUFURUQiLCJzZW5kIiwiZ2V0VGFza3MiLCJmaWx0ZXIiLCJxdWVyeSIsIm9wdGlvbnMiLCJyZXN1bHQiLCJxdWVyeVRhc2tzIiwiZ2V0VGFza0J5SUQiLCJjb25zb2xlIiwibG9nIiwicGFyYW1zIiwiZ2V0VGFza0J5SWQiLCJ0YXNrSWQiLCJOT1RfRk9VTkQiLCJnZXRUYXNrQnlUaXRsZSIsInRpdGxlIiwiJHJlZ2V4IiwidXBkYXRlVGFzayIsInVwZGF0ZVRhc2tCeUlkIiwiZGVsZXRlVGFzayIsIk5PX0NPTlRFTlQiLCJtb2R1bGUiLCJleHBvcnRzIl0sInNvdXJjZVJvb3QiOiJFOlxcV29ya1xcYmFpdGFwX3RvZG9hcHBcXGJhY2tlbmRcXHNyY1xcY29udHJvbGxlcnNcXCIsInNvdXJjZXMiOlsidGFza0NvbnRyb2xsZXIuanMiXSwic291cmNlc0NvbnRlbnQiOlsiY29uc3QgaHR0cFN0YXR1cyA9IHJlcXVpcmUoJ2h0dHAtc3RhdHVzJyk7XHJcbmNvbnN0IHBpY2sgPSByZXF1aXJlKCcuLi91dGlscy9waWNrJyk7XHJcbmNvbnN0IEFwaUVycm9yID0gcmVxdWlyZSgnLi4vdXRpbHMvQXBpRXJyb3InKTtcclxuY29uc3QgY2F0Y2hBc3luYyA9IHJlcXVpcmUoJy4uL3V0aWxzL2NhdGNoQXN5bmMnKTtcclxuY29uc3QgeyB0YXNrU2VydmljZSB9ID0gcmVxdWlyZSgnLi4vc2VydmljZXMnKTtcclxuXHJcbmNvbnN0IGNyZWF0ZVRhc2sgPSBjYXRjaEFzeW5jKGFzeW5jIChyZXEsIHJlcykgPT4ge1xyXG4gIGNvbnN0IHRhc2sgPSBhd2FpdCB0YXNrU2VydmljZS5jcmVhdGVUYXNrKHJlcS5ib2R5KTtcclxuICByZXMuc3RhdHVzKGh0dHBTdGF0dXMuQ1JFQVRFRCkuc2VuZCh0YXNrKTtcclxufSk7XHJcblxyXG5jb25zdCBnZXRUYXNrcyA9IGNhdGNoQXN5bmMoYXN5bmMgKHJlcSwgcmVzKSA9PiB7XHJcbiAgY29uc3QgZmlsdGVyID0gcGljayhyZXEucXVlcnksIFsnY3JlYXRlQXQnXSk7XHJcbiAgY29uc3Qgb3B0aW9ucyA9IHBpY2socmVxLnF1ZXJ5LCBbJ3NvcnRCeScsICdsaW1pdCcsICdwYWdlJ10pO1xyXG4gIGNvbnN0IHJlc3VsdCA9IGF3YWl0IHRhc2tTZXJ2aWNlLnF1ZXJ5VGFza3MoZmlsdGVyLCBvcHRpb25zKTtcclxuICByZXMuc2VuZChyZXN1bHQpO1xyXG59KTtcclxuXHJcbmNvbnN0IGdldFRhc2tCeUlEID0gY2F0Y2hBc3luYyhhc3luYyAocmVxLCByZXMpID0+IHtcclxuICBjb25zb2xlLmxvZyhyZXEucGFyYW1zKVxyXG4gIGNvbnN0IHRhc2sgPSBhd2FpdCB0YXNrU2VydmljZS5nZXRUYXNrQnlJZChyZXEucGFyYW1zLnRhc2tJZCk7XHJcbiAgaWYgKCF0YXNrKSB7XHJcbiAgICB0aHJvdyBuZXcgQXBpRXJyb3IoaHR0cFN0YXR1cy5OT1RfRk9VTkQsICdUYXNrIG5vdCBmb3VuZCcpO1xyXG4gIH1cclxuICByZXMuc2VuZCh0YXNrKTtcclxufSk7XHJcblxyXG5jb25zdCBnZXRUYXNrQnlUaXRsZSA9IGNhdGNoQXN5bmMoYXN5bmMgKHJlcSwgcmVzKSA9PiB7XHJcbiAgY29uc3QgZmlsdGVyID0geyB0aXRsZTogeyAkcmVnZXg6IHJlcS5xdWVyeS50aXRsZSB9fVxyXG4gIGNvbnN0IG9wdGlvbnMgPSBwaWNrKHJlcS5xdWVyeSwgWydzb3J0QnknLCAnbGltaXQnLCAncGFnZSddKTtcclxuICBjb25zdCByZXN1bHQgPSBhd2FpdCB0YXNrU2VydmljZS5xdWVyeVRhc2tzKGZpbHRlciwgb3B0aW9ucyk7XHJcbiAgcmVzLnNlbmQocmVzdWx0KTsgIFxyXG59KTtcclxuXHJcbmNvbnN0IHVwZGF0ZVRhc2sgPSBjYXRjaEFzeW5jKGFzeW5jIChyZXEsIHJlcykgPT4ge1xyXG4gIGNvbnN0IHRhc2sgPSBhd2FpdCB0YXNrU2VydmljZS51cGRhdGVUYXNrQnlJZChyZXEucGFyYW1zLnRhc2tJZCwgcmVxLmJvZHkpO1xyXG4gIHJlcy5zZW5kKHRhc2spO1xyXG59KTtcclxuXHJcbmNvbnN0IGRlbGV0ZVRhc2sgPSBjYXRjaEFzeW5jKGFzeW5jIChyZXEsIHJlcykgPT4ge1xyXG4gIC8vYXdhaXQgdGFza1NlcnZpY2UuZGVsZXRlVGFza0J5SWQocmVxLnBhcmFtcy50YXNrSWQpO1xyXG4gIGNvbnNvbGUubG9nKHJlcS5wYXJhbXMudGFza0lkKVxyXG4gIHJlcy5zdGF0dXMoaHR0cFN0YXR1cy5OT19DT05URU5UKS5zZW5kKCdEZWxldGUgU3VjY2Vzc2Z1bCcpO1xyXG59KTtcclxuXHJcbm1vZHVsZS5leHBvcnRzID0ge1xyXG4gIGNyZWF0ZVRhc2ssXHJcbiAgZ2V0VGFza3MsXHJcbiAgZ2V0VGFza0J5SUQsXHJcbiAgZ2V0VGFza0J5VGl0bGUsXHJcbiAgdXBkYXRlVGFzayxcclxuICBkZWxldGVUYXNrXHJcbn07XHJcbiJdLCJtYXBwaW5ncyI6IkFBQUEsTUFBTUEsVUFBVSxHQUFHQyxPQUFPLENBQUMsYUFBYSxDQUFDO0FBQ3pDLE1BQU1DLElBQUksR0FBR0QsT0FBTyxDQUFDLGVBQWUsQ0FBQztBQUNyQyxNQUFNRSxRQUFRLEdBQUdGLE9BQU8sQ0FBQyxtQkFBbUIsQ0FBQztBQUM3QyxNQUFNRyxVQUFVLEdBQUdILE9BQU8sQ0FBQyxxQkFBcUIsQ0FBQztBQUNqRCxNQUFNO0VBQUVJO0FBQVksQ0FBQyxHQUFHSixPQUFPLENBQUMsYUFBYSxDQUFDO0FBRTlDLE1BQU1LLFVBQVUsR0FBR0YsVUFBVSxDQUFDLE9BQU9HLEdBQUcsRUFBRUMsR0FBRyxLQUFLO0VBQ2hELE1BQU1DLElBQUksR0FBRyxNQUFNSixXQUFXLENBQUNDLFVBQVUsQ0FBQ0MsR0FBRyxDQUFDRyxJQUFJLENBQUM7RUFDbkRGLEdBQUcsQ0FBQ0csTUFBTSxD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","map":{"version":3,"names":["httpStatus","require","pick","ApiError","catchAsync","taskService","createTask","req","res","task","body","status","CREATED","send","getTasks","filter","query","options","result","queryTasks","getTaskByID","console","log","params","getTaskById","taskId","NOT_FOUND","getTaskByTitle","title","$regex","updateTask","updateTaskById","deleteTask","NO_CONTENT","module","exports"],"sourceRoot":"E:\\Work\\baitap_todoapp\\backend\\src\\controllers\\","sources":["taskController.js"],"sourcesContent":["const httpStatus = require('http-status');\r\nconst pick = require('../utils/pick');\r\nconst ApiError = require('../utils/ApiError');\r\nconst catchAsync = require('../utils/catchAsync');\r\nconst { taskService } = require('../services');\r\n\r\nconst createTask = catchAsync(async (req, res) => {\r\n  const task = await taskService.createTask(req.body);\r\n  res.status(httpStatus.CREATED).send(task);\r\n});\r\n\r\nconst getTasks = catchAsync(async (req, res) => {\r\n  const filter = pick(req.query, ['createAt']);\r\n  const options = pick(req.query, ['sortBy', 'limit', 'page']);\r\n  const result = await taskService.queryTasks(filter, options);\r\n  res.send(result);\r\n});\r\n\r\nconst getTaskByID = catchAsync(async (req, res) => {\r\n  console.log(req.params)\r\n  const task = await taskService.getTaskById(req.params.taskId);\r\n  if (!task) {\r\n    throw new ApiError(httpStatus.NOT_FOUND, 'Task not found');\r\n  }\r\n  res.send(task);\r\n});\r\n\r\nconst getTaskByTitle = catchAsync(async (req, res) => {\r\n  const filter = { title: { $regex: req.query.title }}\r\n  const options = pick(req.query, ['sortBy', 'limit', 'page']);\r\n  const result = await taskService.queryTasks(filter, options);\r\n  res.send(result);  \r\n});\r\n\r\nconst updateTask = catchAsync(async (req, res) => {\r\n  const task = await taskService.updateTaskById(req.params.taskId, req.body);\r\n  res.send(task);\r\n});\r\n\r\nconst deleteTask = catchAsync(async (req, res) => {\r\n  //await taskService.deleteTaskById(req.params.taskId);\r\n  console.log(req.params.taskId)\r\n  res.status(httpStatus.NO_CONTENT).send('Delete Successful');\r\n});\r\n\r\nmodule.exports = {\r\n  createTask,\r\n  getTasks,\r\n  getTaskByID,\r\n  getTaskByTitle,\r\n  updateTask,\r\n  deleteTask\r\n};\r\n"],"mappings":"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","ignoreList":[]}},"mtime":1712561853133},"{\"assumptions\":{},\"sourceRoot\":\"E:\\\\Work\\\\baitap_todoapp\\\\backend\\\\src\\\\utils\\\\\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"E:\\\\Work\\\\baitap_todoapp\\\\backend\",\"filename\":\"E:\\\\Work\\\\baitap_todoapp\\\\backend\\\\src\\\\utils\\\\catchAsync.js\",\"targets\":{},\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"browserslistConfigFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"E:\\\\Work\\\\baitap_todoapp\\\\backend\",\"rootMode\":\"root\",\"plugins\":[],\"presets\":[]}:7.24.3:development":{"value":{"code":"const catchAsync = fn => (req, res, next) => {\n  Promise.resolve(fn(req, res, next)).catch(err => next(err));\n};\nmodule.exports = catchAsync;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJjYXRjaEFzeW5jIiwiZm4iLCJyZXEiLCJyZXMiLCJuZXh0IiwiUHJvbWlzZSIsInJlc29sdmUiLCJjYXRjaCIsImVyciIsIm1vZHVsZSIsImV4cG9ydHMiXSwic291cmNlUm9vdCI6IkU6XFxXb3JrXFxiYWl0YXBfdG9kb2FwcFxcYmFja2VuZFxcc3JjXFx1dGlsc1xcIiwic291cmNlcyI6WyJjYXRjaEFzeW5jLmpzIl0sInNvdXJjZXNDb250ZW50IjpbImNvbnN0IGNhdGNoQXN5bmMgPSAoZm4pID0+IChyZXEsIHJlcywgbmV4dCkgPT4ge1xuICBQcm9taXNlLnJlc29sdmUoZm4ocmVxLCByZXMsIG5leHQpKS5jYXRjaCgoZXJyKSA9PiBuZXh0KGVycikpO1xufTtcblxubW9kdWxlLmV4cG9ydHMgPSBjYXRjaEFzeW5jO1xuIl0sIm1hcHBpbmdzIjoiQUFBQSxNQUFNQSxVQUFVLEdBQUlDLEVBQUUsSUFBSyxDQUFDQyxHQUFHLEVBQUVDLEdBQUcsRUFBRUMsSUFBSSxLQUFLO0VBQzdDQyxPQUFPLENBQUNDLE9BQU8sQ0FBQ0wsRUFBRSxDQUFDQyxHQUFHLEVBQUVDLEdBQUcsRUFBRUMsSUFBSSxDQUFDLENBQUMsQ0FBQ0csS0FBSyxDQUFFQyxHQUFHLElBQUtKLElBQUksQ0FBQ0ksR0FBRyxDQUFDLENBQUM7QUFDL0QsQ0FBQztBQUVEQyxNQUFNLENBQUNDLE9BQU8sR0FBR1YsVUFBVSIsImlnbm9yZUxpc3QiOltdfQ==","map":{"version":3,"names":["catchAsync","fn","req","res","next","Promise","resolve","catch","err","module","exports"],"sourceRoot":"E:\\Work\\baitap_todoapp\\backend\\src\\utils\\","sources":["catchAsync.js"],"sourcesContent":["const catchAsync = (fn) => (req, res, next) => {\n  Promise.resolve(fn(req, res, next)).catch((err) => next(err));\n};\n\nmodule.exports = catchAsync;\n"],"mappings":"AAAA,MAAMA,UAAU,GAAIC,EAAE,IAAK,CAACC,GAAG,EAAEC,GAAG,EAAEC,IAAI,KAAK;EAC7CC,OAAO,CAACC,OAAO,CAACL,EAAE,CAACC,GAAG,EAAEC,GAAG,EAAEC,IAAI,CAAC,CAAC,CAACG,KAAK,CAAEC,GAAG,IAAKJ,IAAI,CAACI,GAAG,CAAC,CAAC;AAC/D,CAAC;AAEDC,MAAM,CAACC,OAAO,GAAGV,UAAU","ignoreList":[]}},"mtime":1712050935896},"{\"assumptions\":{},\"sourceRoot\":\"E:\\\\Work\\\\baitap_todoapp\\\\backend\\\\src\\\\services\\\\\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"E:\\\\Work\\\\baitap_todoapp\\\\backend\",\"filename\":\"E:\\\\Work\\\\baitap_todoapp\\\\backend\\\\src\\\\services\\\\index.js\",\"targets\":{},\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"browserslistConfigFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"E:\\\\Work\\\\baitap_todoapp\\\\backend\",\"rootMode\":\"root\",\"plugins\":[],\"presets\":[]}:7.24.3:development":{"value":{"code":"module.exports.taskService = require('./TaskServices');\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJtb2R1bGUiLCJleHBvcnRzIiwidGFza1NlcnZpY2UiLCJyZXF1aXJlIl0sInNvdXJjZVJvb3QiOiJFOlxcV29ya1xcYmFpdGFwX3RvZG9hcHBcXGJhY2tlbmRcXHNyY1xcc2VydmljZXNcXCIsInNvdXJjZXMiOlsiaW5kZXguanMiXSwic291cmNlc0NvbnRlbnQiOlsibW9kdWxlLmV4cG9ydHMudGFza1NlcnZpY2UgPSByZXF1aXJlKCcuL1Rhc2tTZXJ2aWNlcycpO1xuIl0sIm1hcHBpbmdzIjoiQUFBQUEsTUFBTSxDQUFDQyxPQUFPLENBQUNDLFdBQVcsR0FBR0MsT0FBTyxDQUFDLGdCQUFnQixDQUFDIiwiaWdub3JlTGlzdCI6W119","map":{"version":3,"names":["module","exports","taskService","require"],"sourceRoot":"E:\\Work\\baitap_todoapp\\backend\\src\\services\\","sources":["index.js"],"sourcesContent":["module.exports.taskService = require('./TaskServices');\n"],"mappings":"AAAAA,MAAM,CAACC,OAAO,CAACC,WAAW,GAAGC,OAAO,CAAC,gBAAgB,CAAC","ignoreList":[]}},"mtime":1712548976976},"{\"assumptions\":{},\"sourceRoot\":\"E:\\\\Work\\\\baitap_todoapp\\\\backend\\\\src\\\\services\\\\\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"E:\\\\Work\\\\baitap_todoapp\\\\backend\",\"filename\":\"E:\\\\Work\\\\baitap_todoapp\\\\backend\\\\src\\\\services\\\\TaskServices.js\",\"targets\":{},\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"browserslistConfigFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"E:\\\\Work\\\\baitap_todoapp\\\\backend\",\"rootMode\":\"root\",\"plugins\":[],\"presets\":[]}:7.24.3:development":{"value":{"code":"const httpStatus = require('http-status');\nconst {\n  Task\n} = require('../models');\nconst ApiError = require('../utils/ApiError');\nconst pick = require('../utils/pick');\n\n/**\r\n * Create a task\r\n * @param {Object} userBody\r\n * @returns {Promise<Task>}\r\n */\nconst createTask = async userBody => {\n  if (await Task.isTitleTaken(userBody.title)) {\n    throw new ApiError(httpStatus.BAD_REQUEST, 'Title already taken');\n  }\n  return Task.create(userBody);\n};\n\n/**\r\n * Query for users\r\n * @param {Object} filter - Mongo filter\r\n * @param {Object} options - Query options\r\n * @param {string} [options.sortBy] - Sort option in the format: sortField:(desc|asc)\r\n * @param {number} [options.limit] - Maximum number of results per page (default = 10)\r\n * @param {number} [options.page] - Current page (default = 1)\r\n * @returns {Promise<QueryResult>}\r\n */\nconst queryTasks = async (filter, options) => {\n  const tasks = await Task.paginate(filter, options);\n  return tasks;\n};\n\n/**\r\n * Get task by id\r\n * @param {ObjectId} id\r\n * @returns {Promise<Task>}\r\n */\nconst getTaskById = async id => {\n  return Task.findById(id);\n};\n\n/**\r\n * Update task by id\r\n * @param {ObjectId} userId\r\n * @param {Object} updateBody\r\n * @returns {Promise<Task>}\r\n */\nconst updateTaskById = async (taskId, updateBody) => {\n  const task = await getTaskById(taskId);\n  if (!task) {\n    throw new ApiError(httpStatus.NOT_FOUND, 'User not found');\n  }\n  if (updateBody.title && (await Task.isTitleTaken(updateBody.task, taskId))) {\n    throw new ApiError(httpStatus.BAD_REQUEST, 'Task already taken');\n  }\n  Object.assign(task, updateBody); // Update data\n  await task.save();\n  return task;\n};\n\n/**\r\n * Delete task by id\r\n * @param {ObjectId} taskId\r\n * @returns {Promise<Task>}\r\n */\nconst deleteTaskById = async taskId => {\n  const task = await getTaskById(taskId);\n  if (!task) {\n    throw new ApiError(httpStatus.NOT_FOUND, 'Task not found');\n  }\n  await Task.findByIdAndDelete(taskId);\n  return task;\n};\nmodule.exports = {\n  createTask,\n  queryTasks,\n  getTaskById,\n  updateTaskById,\n  deleteTaskById\n};\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJodHRwU3RhdHVzIiwicmVxdWlyZSIsIlRhc2siLCJBcGlFcnJvciIsInBpY2siLCJjcmVhdGVUYXNrIiwidXNlckJvZHkiLCJpc1RpdGxlVGFrZW4iLCJ0aXRsZSIsIkJBRF9SRVFVRVNUIiwiY3JlYXRlIiwicXVlcnlUYXNrcyIsImZpbHRlciIsIm9wdGlvbnMiLCJ0YXNrcyIsInBhZ2luYXRlIiwiZ2V0VGFza0J5SWQiLCJpZCIsImZpbmRCeUlkIiwidXBkYXRlVGFza0J5SWQiLCJ0YXNrSWQiLCJ1cGRhdGVCb2R5IiwidGFzayIsIk5PVF9GT1VORCIsIk9iamVjdCIsImFzc2lnbiIsInNhdmUiLCJkZWxldGVUYXNrQnlJZCIsImZpbmRCeUlkQW5kRGVsZXRlIiwibW9kdWxlIiwiZXhwb3J0cyJdLCJzb3VyY2VSb290IjoiRTpcXFdvcmtcXGJhaXRhcF90b2RvYXBwXFxiYWNrZW5kXFxzcmNcXHNlcnZpY2VzXFwiLCJzb3VyY2VzIjpbIlRhc2tTZXJ2aWNlcy5qcyJdLCJzb3VyY2VzQ29udGVudCI6WyJjb25zdCBodHRwU3RhdHVzID0gcmVxdWlyZSgnaHR0cC1zdGF0dXMnKTtcclxuY29uc3QgeyBUYXNrIH0gPSByZXF1aXJlKCcuLi9tb2RlbHMnKTtcclxuY29uc3QgQXBpRXJyb3IgPSByZXF1aXJlKCcuLi91dGlscy9BcGlFcnJvcicpO1xyXG5jb25zdCBwaWNrID0gcmVxdWlyZSgnLi4vdXRpbHMvcGljaycpO1xyXG5cclxuLyoqXHJcbiAqIENyZWF0ZSBhIHRhc2tcclxuICogQHBhcmFtIHtPYmplY3R9IHVzZXJCb2R5XHJcbiAqIEByZXR1cm5zIHtQcm9taXNlPFRhc2s+fVxyXG4gKi9cclxuY29uc3QgY3JlYXRlVGFzayA9IGFzeW5jICh1c2VyQm9keSkgPT4ge1xyXG4gIGlmIChhd2FpdCBUYXNrLmlzVGl0bGVUYWtlbih1c2VyQm9keS50aXRsZSkpIHtcclxuICAgIHRocm93IG5ldyBBcGlFcnJvcihodHRwU3RhdHVzLkJBRF9SRVFVRVNULCAnVGl0bGUgYWxyZWFkeSB0YWtlbicpO1xyXG4gIH1cclxuICByZXR1cm4gVGFzay5jcmVhdGUodXNlckJvZHkpO1xyXG59O1xyXG5cclxuLyoqXHJcbiAqIFF1ZXJ5IGZvciB1c2Vyc1xyXG4gKiBAcGFyYW0ge09iamVjdH0gZmlsdGVyIC0gTW9uZ28gZmlsdGVyXHJcbiAqIEBwYXJhbSB7T2JqZWN0fSBvcHRpb25zIC0gUXVlcnkgb3B0aW9uc1xyXG4gKiBAcGFyYW0ge3N0cmluZ30gW29wdGlvbnMuc29ydEJ5XSAtIFNvcnQgb3B0aW9uIGluIHRoZSBmb3JtYXQ6IHNvcnRGaWVsZDooZGVzY3xhc2MpXHJcbiAqIEBwYXJhbSB7bnVtYmVyfSBbb3B0aW9ucy5saW1pdF0gLSBNYXhpbXVtIG51bWJlciBvZiByZXN1bHRzIHBlciBwYWdlIChkZWZhdWx0ID0gMTApXHJcbiAqIEBwYXJhbSB7bnVtYmVyfSBbb3B0aW9ucy5wYWdlXSAtIEN1cnJlbnQgcGFnZSAoZGVmYXVsdCA9IDEpXHJcbiAqIEByZXR1cm5zIHtQcm9taXNlPFF1ZXJ5UmVzdWx0Pn1cclxuICovXHJcbmNvbnN0IHF1ZXJ5VGFza3MgPSBhc3luYyAoZmlsdGVyLCBvcHRpb25zKSA9PiB7XHJcbiAgY29uc3QgdGFza3MgPSBhd2FpdCBUYXNrLnBhZ2luYXRlKGZpbHRlciwgb3B0aW9ucyk7XHJcbiAgcmV0dXJuIHRhc2tzO1xyXG59O1xyXG5cclxuLyoqXHJcbiAqIEdldCB0YXNrIGJ5IGlkXHJcbiAqIEBwYXJhbSB7T2JqZWN0SWR9IGlkXHJcbiAqIEByZXR1cm5zIHtQcm9taXNlPFRhc2s+fVxyXG4gKi9cclxuY29uc3QgZ2V0VGFza0J5SWQgPSBhc3luYyAoaWQpID0+IHtcclxuICByZXR1cm4gVGFzay5maW5kQnlJZChpZCk7XHJcbn07XHJcblxyXG5cclxuLyoqXHJcbiAqIFVwZGF0ZSB0YXNrIGJ5IGlkXHJcbiAqIEBwYXJhbSB7T2JqZWN0SWR9IHVzZXJJZFxyXG4gKiBAcGFyYW0ge09iamVjdH0gdXBkYXRlQm9keVxyXG4gKiBAcmV0dXJucyB7UHJvbWlzZTxUYXNrPn1cclxuICovXHJcbmNvbnN0IHVwZGF0ZVRhc2tCeUlkID0gYXN5bmMgKHRhc2tJZCwgdXBkYXRlQm9keSkgPT4ge1xyXG4gIGNvbnN0IHRhc2sgPSBhd2FpdCBnZXRUYXNrQnlJZCh0YXNrSWQpO1xyXG4gIGlmICghdGFzaykge1xyXG4gICAgdGhyb3cgbmV3IEFwaUVycm9yKGh0dHBTdGF0dXMuTk9UX0ZPVU5ELCAnVXNlciBub3QgZm91bmQnKTtcclxuICB9XHJcbiAgaWYgKHVwZGF0ZUJvZHkudGl0bGUgJiYgKGF3YWl0IFRhc2suaXNUaXRsZVRha2VuKHVwZGF0ZUJvZHkudGFzaywgdGFza0lkKSkpIHtcclxuICAgIHRocm93IG5ldyBBcGlFcnJvcihodHRwU3RhdHVzLkJBRF9SRVFVRVNULCAnVGFzayBhbHJlYWR5IHRha2VuJyk7XHJcbiAgfVxyXG4gIE9iamVjdC5hc3NpZ24odGFzaywgdXBkYXRlQm9keSk7IC8vIFVwZGF0ZSBkYXRhXHJcbiAgYXdhaXQgdGFzay5zYXZlKCk7XHJcbiAgcmV0dXJuIHRhc2s7XHJcbn07XHJcblxyXG4vKipcclxuICogRGVsZXRlIHRhc2sgYnkgaWRcclxuICogQHBhcmFtIHtPYmplY3RJZH0gdGFza0lkXHJcbiAqIEByZXR1cm5zIHtQcm9taXNlPFRhc2s+fVxyXG4gKi9cclxuY29uc3QgZGVsZXRlVGFza0J5SWQgPSBhc3luYyAodGFza0lkKSA9PiB7XHJcbiAgY29uc3QgdGFzayA9IGF3YWl0IGdldFRhc2tCeUlkKHRhc2tJZCk7XHJcbiAgaWYgKCF0YXNrKSB7XHJcbiAgICB0aHJvdyBuZXcgQXBpRXJyb3IoaHR0cFN0YXR1cy5OT1RfRk9VTkQsICdUYXNrIG5vdCBmb3VuZCcpO1xyXG4gIH1cclxuICBhd2FpdCBUYXNrLmZpbmRCeUlkQW5kRGVsZXRlKHRhc2tJZCk7XHJcbiAgcmV0dXJuIHRhc2s7XHJcbn07XHJcblxyXG5tb2R1bGUuZXhwb3J0cyA9IHtcclxuICBjcmVhdGVUYXNrLFxyXG4gIHF1ZXJ5VGFza3MsXHJcbiAgZ2V0VGFza0J5SWQsXHJcbiAgdXBkYXRlVGFza0J5SWQsXHJcbiAgZGVsZXRlVGFza0J5SWRcclxuXHJcbn07XHJcbiJdLCJtYXBwaW5ncyI6IkFBQUEsTUFBTUEsVUFBVSxHQUFHQyxPQUFPLENBQUMsYUFBYSxDQUFDO0FBQ3pDLE1BQU07RUFBRUM7QUFBSyxDQUFDLEdBQUdELE9BQU8sQ0FBQyxXQUFXLENBQUM7QUFDckMsTUFBTUUsUUFBUSxHQUFHRixPQUFPLENBQUMsbUJBQW1CLENBQUM7QUFDN0MsTUFBTUcsSUFBSSxHQUFHSCxPQUFPLENBQUMsZUFBZSxDQUFDOztBQUVyQztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsTUFBTUksVUFBVSxHQUFHLE1BQU9DLFFBQVEsSUFBSztFQUNyQyxJQUFJLE1BQU1KLElBQUksQ0FBQ0ssWUFBWSxDQUFDRCxRQUFRLENBQUNFLEtBQUssQ0FBQyxFQUFFO0lBQzNDLE1BQU0sSUFBSUwsUUFBUSxDQUFDSCxVQUFVLENBQUNTLFdBQVcsRUFBRSxxQkFBcUIsQ0FBQztFQUNuRTtFQUNBLE9BQU9QLElBQUksQ0FBQ1EsTUFBTSxDQUFDSixRQUFRLENBQUM7QUFDOUIsQ0FBQzs7QUFFRDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxNQUFNSyxVQUFVLEdBQUcsTUFBQUEsQ0FBT0MsTUFBTSxFQUFFQyxPQUFPLEtBQUs7RUFDNUMsTUFBTUMsS0FBSyxHQUFHLE1BQU1aLElBQUksQ0FBQ2EsUUFBUSxDQUFDSCxNQUFNLEVBQUVDLE9BQU8sQ0FBQztFQUNsRCxPQUFPQyxLQUFLO0FBQ2QsQ0FBQzs7QUFFRDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsTUFBTUUsV0FBVyxHQUFHLE1BQU9DLEVBQUUsSUFBSztFQUNoQyxPQUFPZixJQUFJLENBQUNnQixRQUFRLENBQUNELEVBQUUsQ0FBQztBQUMxQixDQUFDOztBQUdEO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLE1BQU1FLGNBQWMsR0FBRyxNQUFBQSxDQUFPQyxNQUFNLEVBQUVDLFVBQVUsS0FBSztFQUNuRCxNQUFNQyxJQUFJLEdBQUcsTUFBTU4sV0FBVyxDQUFDSSxNQUFNLENBQUM7RUFDdEMsSUFBSSxDQUFDRSxJQUFJLEVBQUU7SUFDVCxNQUFNLElBQUluQixRQUFRLENBQUNILFVBQVUsQ0FBQ3VCLFNBQVMsRUFBRSxnQkFBZ0IsQ0FBQztFQUM1RDtFQUNBLElBQUlGLFVBQVUsQ0FBQ2IsS0FBSyxLQUFLLE1BQU1OLElBQUksQ0FBQ0ssWUFBWSxDQUFDYyxVQUFVLENBQUNDLElBQUksRUFBRUYsTUFBTSxDQUFDLENBQUMsRUFBRTtJQUMxRSxNQUFNLElBQUlqQixRQUFRLENBQUNILFVBQVUsQ0FBQ1MsV0FBVyxFQUFFLG9CQUFvQixDQUFDO0VBQ2xFO0VBQ0FlLE1BQU0sQ0FBQ0MsTUFBTSxDQUFDSCxJQUFJLEVBQUVELFVBQVUsQ0FBQyxDQUFDLENBQUM7RUFDakMsTUFBTUMsSUFBSSxDQUFDSSxJQUFJLENBQUMsQ0FBQztFQUNqQixPQUFPSixJQUFJO0FBQ2IsQ0FBQzs7QUFFRDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsTUFBTUssY0FBYyxHQUFHLE1BQU9QLE1BQU0sSUFBSztFQUN2QyxNQUFNRSxJQUFJLEdBQUcsTUFBTU4sV0FBVyxDQUFDSSxNQUFNLENBQUM7RUFDdEMsSUFBSSxDQUFDRSxJQUFJLEVBQUU7SUFDVCxNQUFNLElBQUluQixRQUFRLENBQUNILFVBQVUsQ0FBQ3VCLFNBQVMsRUFBRSxnQkFBZ0IsQ0FBQztFQUM1RDtFQUNBLE1BQU1yQixJQUFJLENBQUMwQixpQkFBaUIsQ0FBQ1IsTUFBTSxDQUFDO0VBQ3BDLE9BQU9FLElBQUk7QUFDYixDQUFDO0FBRURPLE1BQU0sQ0FBQ0MsT0FBTyxHQUFHO0VBQ2Z6QixVQUFVO0VBQ1ZNLFVBQVU7RUFDVkssV0FBVztFQUNYRyxjQUFjO0VBQ2RRO0FBRUYsQ0FBQyIsImlnbm9yZUxpc3QiOltdfQ==","map":{"version":3,"names":["httpStatus","require","Task","ApiError","pick","createTask","userBody","isTitleTaken","title","BAD_REQUEST","create","queryTasks","filter","options","tasks","paginate","getTaskById","id","findById","updateTaskById","taskId","updateBody","task","NOT_FOUND","Object","assign","save","deleteTaskById","findByIdAndDelete","module","exports"],"sourceRoot":"E:\\Work\\baitap_todoapp\\backend\\src\\services\\","sources":["TaskServices.js"],"sourcesContent":["const httpStatus = require('http-status');\r\nconst { Task } = require('../models');\r\nconst ApiError = require('../utils/ApiError');\r\nconst pick = require('../utils/pick');\r\n\r\n/**\r\n * Create a task\r\n * @param {Object} userBody\r\n * @returns {Promise<Task>}\r\n */\r\nconst createTask = async (userBody) => {\r\n  if (await Task.isTitleTaken(userBody.title)) {\r\n    throw new ApiError(httpStatus.BAD_REQUEST, 'Title already taken');\r\n  }\r\n  return Task.create(userBody);\r\n};\r\n\r\n/**\r\n * Query for users\r\n * @param {Object} filter - Mongo filter\r\n * @param {Object} options - Query options\r\n * @param {string} [options.sortBy] - Sort option in the format: sortField:(desc|asc)\r\n * @param {number} [options.limit] - Maximum number of results per page (default = 10)\r\n * @param {number} [options.page] - Current page (default = 1)\r\n * @returns {Promise<QueryResult>}\r\n */\r\nconst queryTasks = async (filter, options) => {\r\n  const tasks = await Task.paginate(filter, options);\r\n  return tasks;\r\n};\r\n\r\n/**\r\n * Get task by id\r\n * @param {ObjectId} id\r\n * @returns {Promise<Task>}\r\n */\r\nconst getTaskById = async (id) => {\r\n  return Task.findById(id);\r\n};\r\n\r\n\r\n/**\r\n * Update task by id\r\n * @param {ObjectId} userId\r\n * @param {Object} updateBody\r\n * @returns {Promise<Task>}\r\n */\r\nconst updateTaskById = async (taskId, updateBody) => {\r\n  const task = await getTaskById(taskId);\r\n  if (!task) {\r\n    throw new ApiError(httpStatus.NOT_FOUND, 'User not found');\r\n  }\r\n  if (updateBody.title && (await Task.isTitleTaken(updateBody.task, taskId))) {\r\n    throw new ApiError(httpStatus.BAD_REQUEST, 'Task already taken');\r\n  }\r\n  Object.assign(task, updateBody); // Update data\r\n  await task.save();\r\n  return task;\r\n};\r\n\r\n/**\r\n * Delete task by id\r\n * @param {ObjectId} taskId\r\n * @returns {Promise<Task>}\r\n */\r\nconst deleteTaskById = async (taskId) => {\r\n  const task = await getTaskById(taskId);\r\n  if (!task) {\r\n    throw new ApiError(httpStatus.NOT_FOUND, 'Task not found');\r\n  }\r\n  await Task.findByIdAndDelete(taskId);\r\n  return task;\r\n};\r\n\r\nmodule.exports = {\r\n  createTask,\r\n  queryTasks,\r\n  getTaskById,\r\n  updateTaskById,\r\n  deleteTaskById\r\n\r\n};\r\n"],"mappings":"AAAA,MAAMA,UAAU,GAAGC,OAAO,CAAC,aAAa,CAAC;AACzC,MAAM;EAAEC;AAAK,CAAC,GAAGD,OAAO,CAAC,WAAW,CAAC;AACrC,MAAME,QAAQ,GAAGF,OAAO,CAAC,mBAAmB,CAAC;AAC7C,MAAMG,IAAI,GAAGH,OAAO,CAAC,eAAe,CAAC;;AAErC;AACA;AACA;AACA;AACA;AACA,MAAMI,UAAU,GAAG,MAAOC,QAAQ,IAAK;EACrC,IAAI,MAAMJ,IAAI,CAACK,YAAY,CAACD,QAAQ,CAACE,KAAK,CAAC,EAAE;IAC3C,MAAM,IAAIL,QAAQ,CAACH,UAAU,CAACS,WAAW,EAAE,qBAAqB,CAAC;EACnE;EACA,OAAOP,IAAI,CAACQ,MAAM,CAACJ,QAAQ,CAAC;AAC9B,CAAC;;AAED;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,MAAMK,UAAU,GAAG,MAAAA,CAAOC,MAAM,EAAEC,OAAO,KAAK;EAC5C,MAAMC,KAAK,GAAG,MAAMZ,IAAI,CAACa,QAAQ,CAACH,MAAM,EAAEC,OAAO,CAAC;EAClD,OAAOC,KAAK;AACd,CAAC;;AAED;AACA;AACA;AACA;AACA;AACA,MAAME,WAAW,GAAG,MAAOC,EAAE,IAAK;EAChC,OAAOf,IAAI,CAACgB,QAAQ,CAACD,EAAE,CAAC;AAC1B,CAAC;;AAGD;AACA;AACA;AACA;AACA;AACA;AACA,MAAME,cAAc,GAAG,MAAAA,CAAOC,MAAM,EAAEC,UAAU,KAAK;EACnD,MAAMC,IAAI,GAAG,MAAMN,WAAW,CAACI,MAAM,CAAC;EACtC,IAAI,CAACE,IAAI,EAAE;IACT,MAAM,IAAInB,QAAQ,CAACH,UAAU,CAACuB,SAAS,EAAE,gBAAgB,CAAC;EAC5D;EACA,IAAIF,UAAU,CAACb,KAAK,KAAK,MAAMN,IAAI,CAACK,YAAY,CAACc,UAAU,CAACC,IAAI,EAAEF,MAAM,CAAC,CAAC,EAAE;IAC1E,MAAM,IAAIjB,QAAQ,CAACH,UAAU,CAACS,WAAW,EAAE,oBAAoB,CAAC;EAClE;EACAe,MAAM,CAACC,MAAM,CAACH,IAAI,EAAED,UAAU,CAAC,CAAC,CAAC;EACjC,MAAMC,IAAI,CAACI,IAAI,CAAC,CAAC;EACjB,OAAOJ,IAAI;AACb,CAAC;;AAED;AACA;AACA;AACA;AACA;AACA,MAAMK,cAAc,GAAG,MAAOP,MAAM,IAAK;EACvC,MAAME,IAAI,GAAG,MAAMN,WAAW,CAACI,MAAM,CAAC;EACtC,IAAI,CAACE,IAAI,EAAE;IACT,MAAM,IAAInB,QAAQ,CAACH,UAAU,CAACuB,SAAS,EAAE,gBAAgB,CAAC;EAC5D;EACA,MAAMrB,IAAI,CAAC0B,iBAAiB,CAACR,MAAM,CAAC;EACpC,OAAOE,IAAI;AACb,CAAC;AAEDO,MAAM,CAACC,OAAO,GAAG;EACfzB,UAAU;EACVM,UAAU;EACVK,WAAW;EACXG,cAAc;EACdQ;AAEF,CAAC","ignoreList":[]}},"mtime":1712560541905},"{\"assumptions\":{},\"sourceRoot\":\"E:\\\\Work\\\\baitap_todoapp\\\\backend\\\\src\\\\models\\\\\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"E:\\\\Work\\\\baitap_todoapp\\\\backend\",\"filename\":\"E:\\\\Work\\\\baitap_todoapp\\\\backend\\\\src\\\\models\\\\index.js\",\"targets\":{},\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"browserslistConfigFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"E:\\\\Work\\\\baitap_todoapp\\\\backend\",\"rootMode\":\"root\",\"plugins\":[],\"presets\":[]}:7.24.3:development":{"value":{"code":"module.exports.Task = require('./TaskModel');\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJtb2R1bGUiLCJleHBvcnRzIiwiVGFzayIsInJlcXVpcmUiXSwic291cmNlUm9vdCI6IkU6XFxXb3JrXFxiYWl0YXBfdG9kb2FwcFxcYmFja2VuZFxcc3JjXFxtb2RlbHNcXCIsInNvdXJjZXMiOlsiaW5kZXguanMiXSwic291cmNlc0NvbnRlbnQiOlsibW9kdWxlLmV4cG9ydHMuVGFzayA9IHJlcXVpcmUoJy4vVGFza01vZGVsJyk7Il0sIm1hcHBpbmdzIjoiQUFBQUEsTUFBTSxDQUFDQyxPQUFPLENBQUNDLElBQUksR0FBR0MsT0FBTyxDQUFDLGFBQWEsQ0FBQyIsImlnbm9yZUxpc3QiOltdfQ==","map":{"version":3,"names":["module","exports","Task","require"],"sourceRoot":"E:\\Work\\baitap_todoapp\\backend\\src\\models\\","sources":["index.js"],"sourcesContent":["module.exports.Task = require('./TaskModel');"],"mappings":"AAAAA,MAAM,CAACC,OAAO,CAACC,IAAI,GAAGC,OAAO,CAAC,aAAa,CAAC","ignoreList":[]}},"mtime":1712548235690},"{\"assumptions\":{},\"sourceRoot\":\"E:\\\\Work\\\\baitap_todoapp\\\\backend\\\\src\\\\models\\\\\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"E:\\\\Work\\\\baitap_todoapp\\\\backend\",\"filename\":\"E:\\\\Work\\\\baitap_todoapp\\\\backend\\\\src\\\\models\\\\TaskModel.js\",\"targets\":{},\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"browserslistConfigFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"E:\\\\Work\\\\baitap_todoapp\\\\backend\",\"rootMode\":\"root\",\"plugins\":[],\"presets\":[]}:7.24.3:development":{"value":{"code":"const mongoose = require('mongoose');\nconst {\n  toJSON,\n  paginate\n} = require('./plugins');\nconst taskSchema = mongoose.Schema({\n  title: {\n    type: String,\n    required: true,\n    unique: true,\n    maxlength: 50\n  },\n  content: {\n    type: String\n  },\n  assigneeID: {\n    type: Number,\n    default: 0\n  },\n  status: {\n    type: Number,\n    default: 1,\n    required: true,\n    min: 1,\n    max: 3\n  }\n}, {\n  timestamps: true\n  //collection: 'task'\n});\n\n// add plugin that converts mongoose to json\ntaskSchema.plugin(toJSON);\ntaskSchema.plugin(paginate);\n\n/**\r\n * Check if title is taken\r\n * @param {string} title - The tasks'title\r\n * @param {ObjectId} [excludeUserId] - The id of the user to be excluded\r\n * @returns {Promise<boolean>}\r\n */\ntaskSchema.statics.isTitleTaken = async function (title, excludeUserId) {\n  const tasks = await this.findOne({\n    title,\n    _id: {\n      $ne: excludeUserId\n    }\n  }); // Check task's name without check itself\n  return !!tasks;\n};\n\n/**\r\n * @typedef Task\r\n */\nconst Task = mongoose.model('Task', taskSchema);\nmodule.exports = Task;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJtb25nb29zZSIsInJlcXVpcmUiLCJ0b0pTT04iLCJwYWdpbmF0ZSIsInRhc2tTY2hlbWEiLCJTY2hlbWEiLCJ0aXRsZSIsInR5cGUiLCJTdHJpbmciLCJyZXF1aXJlZCIsInVuaXF1ZSIsIm1heGxlbmd0aCIsImNvbnRlbnQiLCJhc3NpZ25lZUlEIiwiTnVtYmVyIiwiZGVmYXVsdCIsInN0YXR1cyIsIm1pbiIsIm1heCIsInRpbWVzdGFtcHMiLCJwbHVnaW4iLCJzdGF0aWNzIiwiaXNUaXRsZVRha2VuIiwiZXhjbHVkZVVzZXJJZCIsInRhc2tzIiwiZmluZE9uZSIsIl9pZCIsIiRuZSIsIlRhc2siLCJtb2RlbCIsIm1vZHVsZSIsImV4cG9ydHMiXSwic291cmNlUm9vdCI6IkU6XFxXb3JrXFxiYWl0YXBfdG9kb2FwcFxcYmFja2VuZFxcc3JjXFxtb2RlbHNcXCIsInNvdXJjZXMiOlsiVGFza01vZGVsLmpzIl0sInNvdXJjZXNDb250ZW50IjpbImNvbnN0IG1vbmdvb3NlID0gcmVxdWlyZSgnbW9uZ29vc2UnKTtcclxuY29uc3QgeyB0b0pTT04sIHBhZ2luYXRlIH0gPSByZXF1aXJlKCcuL3BsdWdpbnMnKTtcclxuXHJcbmNvbnN0IHRhc2tTY2hlbWEgPSBtb25nb29zZS5TY2hlbWEoXHJcbiAge1xyXG4gICAgdGl0bGU6IHtcclxuICAgICAgdHlwZTogU3RyaW5nLFxyXG4gICAgICByZXF1aXJlZDogdHJ1ZSxcclxuICAgICAgdW5pcXVlOiB0cnVlLFxyXG4gICAgICBtYXhsZW5ndGg6IDUwLFxyXG4gICAgfSxcclxuICAgIGNvbnRlbnQ6IHtcclxuICAgICAgdHlwZTogU3RyaW5nXHJcbiAgICB9LFxyXG4gICAgYXNzaWduZWVJRDoge1xyXG4gICAgICB0eXBlOiBOdW1iZXIsXHJcbiAgICAgIGRlZmF1bHQ6IDAsXHJcbiAgICB9LFxyXG4gICAgc3RhdHVzOiB7XHJcbiAgICAgIHR5cGU6IE51bWJlcixcclxuICAgICAgZGVmYXVsdDogMSxcclxuICAgICAgcmVxdWlyZWQ6IHRydWUsXHJcbiAgICAgIG1pbjogMSxcclxuICAgICAgbWF4OiAzXHJcbiAgICB9XHJcbiAgfSxcclxuICB7XHJcbiAgICB0aW1lc3RhbXBzOiB0cnVlLFxyXG4gICAgLy9jb2xsZWN0aW9uOiAndGFzaydcclxuICB9XHJcbik7XHJcblxyXG4vLyBhZGQgcGx1Z2luIHRoYXQgY29udmVydHMgbW9uZ29vc2UgdG8ganNvblxyXG50YXNrU2NoZW1hLnBsdWdpbih0b0pTT04pO1xyXG50YXNrU2NoZW1hLnBsdWdpbihwYWdpbmF0ZSk7XHJcblxyXG4vKipcclxuICogQ2hlY2sgaWYgdGl0bGUgaXMgdGFrZW5cclxuICogQHBhcmFtIHtzdHJpbmd9IHRpdGxlIC0gVGhlIHRhc2tzJ3RpdGxlXHJcbiAqIEBwYXJhbSB7T2JqZWN0SWR9IFtleGNsdWRlVXNlcklkXSAtIFRoZSBpZCBvZiB0aGUgdXNlciB0byBiZSBleGNsdWRlZFxyXG4gKiBAcmV0dXJucyB7UHJvbWlzZTxib29sZWFuPn1cclxuICovXHJcbnRhc2tTY2hlbWEuc3RhdGljcy5pc1RpdGxlVGFrZW4gPSBhc3luYyBmdW5jdGlvbiAodGl0bGUsIGV4Y2x1ZGVVc2VySWQpIHtcclxuICBjb25zdCB0YXNrcyA9IGF3YWl0IHRoaXMuZmluZE9uZSh7IHRpdGxlLCBfaWQ6IHsgJG5lOiBleGNsdWRlVXNlcklkIH0gfSk7IC8vIENoZWNrIHRhc2sncyBuYW1lIHdpdGhvdXQgY2hlY2sgaXRzZWxmXHJcbiAgcmV0dXJuICEhdGFza3M7XHJcbn07XHJcblxyXG4vKipcclxuICogQHR5cGVkZWYgVGFza1xyXG4gKi9cclxuY29uc3QgVGFzayA9IG1vbmdvb3NlLm1vZGVsKCdUYXNrJywgdGFza1NjaGVtYSk7XHJcblxyXG5tb2R1bGUuZXhwb3J0cyA9IFRhc2s7XHJcbiJdLCJtYXBwaW5ncyI6IkFBQUEsTUFBTUEsUUFBUSxHQUFHQyxPQUFPLENBQUMsVUFBVSxDQUFDO0FBQ3BDLE1BQU07RUFBRUMsTUFBTTtFQUFFQztBQUFTLENBQUMsR0FBR0YsT0FBTyxDQUFDLFdBQVcsQ0FBQztBQUVqRCxNQUFNRyxVQUFVLEdBQUdKLFFBQVEsQ0FBQ0ssTUFBTSxDQUNoQztFQUNFQyxLQUFLLEVBQUU7SUFDTEMsSUFBSSxFQUFFQyxNQUFNO0lBQ1pDLFFBQVEsRUFBRSxJQUFJO0lBQ2RDLE1BQU0sRUFBRSxJQUFJO0lBQ1pDLFNBQVMsRUFBRTtFQUNiLENBQUM7RUFDREMsT0FBTyxFQUFFO0lBQ1BMLElBQUksRUFBRUM7RUFDUixDQUFDO0VBQ0RLLFVBQVUsRUFBRTtJQUNWTixJQUFJLEVBQUVPLE1BQU07SUFDWkMsT0FBTyxFQUFFO0VBQ1gsQ0FBQztFQUNEQyxNQUFNLEVBQUU7SUFDTlQsSUFBSSxFQUFFTyxNQUFNO0lBQ1pDLE9BQU8sRUFBRSxDQUFDO0lBQ1ZOLFFBQVEsRUFBRSxJQUFJO0lBQ2RRLEdBQUcsRUFBRSxDQUFDO0lBQ05DLEdBQUcsRUFBRTtFQUNQO0FBQ0YsQ0FBQyxFQUNEO0VBQ0VDLFVBQVUsRUFBRTtFQUNaO0FBQ0YsQ0FDRixDQUFDOztBQUVEO0FBQ0FmLFVBQVUsQ0FBQ2dCLE1BQU0sQ0FBQ2xCLE1BQU0sQ0FBQztBQUN6QkUsVUFBVSxDQUFDZ0IsTUFBTSxDQUFDakIsUUFBUSxDQUFDOztBQUUzQjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQUMsVUFBVSxDQUFDaUIsT0FBTyxDQUFDQyxZQUFZLEdBQUcsZ0JBQWdCaEIsS0FBSyxFQUFFaUIsYUFBYSxFQUFFO0VBQ3RFLE1BQU1DLEtBQUssR0FBRyxNQUFNLElBQUksQ0FBQ0MsT0FBTyxDQUFDO0lBQUVuQixLQUFLO0lBQUVvQixHQUFHLEVBQUU7TUFBRUMsR0FBRyxFQUFFSjtJQUFjO0VBQUUsQ0FBQyxDQUFDLENBQUMsQ0FBQztFQUMxRSxPQUFPLENBQUMsQ0FBQ0MsS0FBSztBQUNoQixDQUFDOztBQUVEO0FBQ0E7QUFDQTtBQUNBLE1BQU1JLElBQUksR0FBRzVCLFFBQVEsQ0FBQzZCLEtBQUssQ0FBQyxNQUFNLEVBQUV6QixVQUFVLENBQUM7QUFFL0MwQixNQUFNLENBQUNDLE9BQU8sR0FBR0gsSUFBSSIsImlnbm9yZUxpc3QiOltdfQ==","map":{"version":3,"names":["mongoose","require","toJSON","paginate","taskSchema","Schema","title","type","String","required","unique","maxlength","content","assigneeID","Number","default","status","min","max","timestamps","plugin","statics","isTitleTaken","excludeUserId","tasks","findOne","_id","$ne","Task","model","module","exports"],"sourceRoot":"E:\\Work\\baitap_todoapp\\backend\\src\\models\\","sources":["TaskModel.js"],"sourcesContent":["const mongoose = require('mongoose');\r\nconst { toJSON, paginate } = require('./plugins');\r\n\r\nconst taskSchema = mongoose.Schema(\r\n  {\r\n    title: {\r\n      type: String,\r\n      required: true,\r\n      unique: true,\r\n      maxlength: 50,\r\n    },\r\n    content: {\r\n      type: String\r\n    },\r\n    assigneeID: {\r\n      type: Number,\r\n      default: 0,\r\n    },\r\n    status: {\r\n      type: Number,\r\n      default: 1,\r\n      required: true,\r\n      min: 1,\r\n      max: 3\r\n    }\r\n  },\r\n  {\r\n    timestamps: true,\r\n    //collection: 'task'\r\n  }\r\n);\r\n\r\n// add plugin that converts mongoose to json\r\ntaskSchema.plugin(toJSON);\r\ntaskSchema.plugin(paginate);\r\n\r\n/**\r\n * Check if title is taken\r\n * @param {string} title - The tasks'title\r\n * @param {ObjectId} [excludeUserId] - The id of the user to be excluded\r\n * @returns {Promise<boolean>}\r\n */\r\ntaskSchema.statics.isTitleTaken = async function (title, excludeUserId) {\r\n  const tasks = await this.findOne({ title, _id: { $ne: excludeUserId } }); // Check task's name without check itself\r\n  return !!tasks;\r\n};\r\n\r\n/**\r\n * @typedef Task\r\n */\r\nconst Task = mongoose.model('Task', taskSchema);\r\n\r\nmodule.exports = Task;\r\n"],"mappings":"AAAA,MAAMA,QAAQ,GAAGC,OAAO,CAAC,UAAU,CAAC;AACpC,MAAM;EAAEC,MAAM;EAAEC;AAAS,CAAC,GAAGF,OAAO,CAAC,WAAW,CAAC;AAEjD,MAAMG,UAAU,GAAGJ,QAAQ,CAACK,MAAM,CAChC;EACEC,KAAK,EAAE;IACLC,IAAI,EAAEC,MAAM;IACZC,QAAQ,EAAE,IAAI;IACdC,MAAM,EAAE,IAAI;IACZC,SAAS,EAAE;EACb,CAAC;EACDC,OAAO,EAAE;IACPL,IAAI,EAAEC;EACR,CAAC;EACDK,UAAU,EAAE;IACVN,IAAI,EAAEO,MAAM;IACZC,OAAO,EAAE;EACX,CAAC;EACDC,MAAM,EAAE;IACNT,IAAI,EAAEO,MAAM;IACZC,OAAO,EAAE,CAAC;IACVN,QAAQ,EAAE,IAAI;IACdQ,GAAG,EAAE,CAAC;IACNC,GAAG,EAAE;EACP;AACF,CAAC,EACD;EACEC,UAAU,EAAE;EACZ;AACF,CACF,CAAC;;AAED;AACAf,UAAU,CAACgB,MAAM,CAAClB,MAAM,CAAC;AACzBE,UAAU,CAACgB,MAAM,CAACjB,QAAQ,CAAC;;AAE3B;AACA;AACA;AACA;AACA;AACA;AACAC,UAAU,CAACiB,OAAO,CAACC,YAAY,GAAG,gBAAgBhB,KAAK,EAAEiB,aAAa,EAAE;EACtE,MAAMC,KAAK,GAAG,MAAM,IAAI,CAACC,OAAO,CAAC;IAAEnB,KAAK;IAAEoB,GAAG,EAAE;MAAEC,GAAG,EAAEJ;IAAc;EAAE,CAAC,CAAC,CAAC,CAAC;EAC1E,OAAO,CAAC,CAACC,KAAK;AAChB,CAAC;;AAED;AACA;AACA;AACA,MAAMI,IAAI,GAAG5B,QAAQ,CAAC6B,KAAK,CAAC,MAAM,EAAEzB,UAAU,CAAC;AAE/C0B,MAAM,CAACC,OAAO,GAAGH,IAAI","ignoreList":[]}},"mtime":1712549287958},"{\"assumptions\":{},\"sourceRoot\":\"E:\\\\Work\\\\baitap_todoapp\\\\backend\\\\src\\\\models\\\\plugins\\\\\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"E:\\\\Work\\\\baitap_todoapp\\\\backend\",\"filename\":\"E:\\\\Work\\\\baitap_todoapp\\\\backend\\\\src\\\\models\\\\plugins\\\\index.js\",\"targets\":{},\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"browserslistConfigFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"E:\\\\Work\\\\baitap_todoapp\\\\backend\",\"rootMode\":\"root\",\"plugins\":[],\"presets\":[]}:7.24.3:development":{"value":{"code":"module.exports.toJSON = require('./toJSON.plugin');\nmodule.exports.paginate = require('./paginate.plugin');\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJtb2R1bGUiLCJleHBvcnRzIiwidG9KU09OIiwicmVxdWlyZSIsInBhZ2luYXRlIl0sInNvdXJjZVJvb3QiOiJFOlxcV29ya1xcYmFpdGFwX3RvZG9hcHBcXGJhY2tlbmRcXHNyY1xcbW9kZWxzXFxwbHVnaW5zXFwiLCJzb3VyY2VzIjpbImluZGV4LmpzIl0sInNvdXJjZXNDb250ZW50IjpbIm1vZHVsZS5leHBvcnRzLnRvSlNPTiA9IHJlcXVpcmUoJy4vdG9KU09OLnBsdWdpbicpO1xubW9kdWxlLmV4cG9ydHMucGFnaW5hdGUgPSByZXF1aXJlKCcuL3BhZ2luYXRlLnBsdWdpbicpO1xuIl0sIm1hcHBpbmdzIjoiQUFBQUEsTUFBTSxDQUFDQyxPQUFPLENBQUNDLE1BQU0sR0FBR0MsT0FBTyxDQUFDLGlCQUFpQixDQUFDO0FBQ2xESCxNQUFNLENBQUNDLE9BQU8sQ0FBQ0csUUFBUSxHQUFHRCxPQUFPLENBQUMsbUJBQW1CLENBQUMiLCJpZ25vcmVMaXN0IjpbXX0=","map":{"version":3,"names":["module","exports","toJSON","require","paginate"],"sourceRoot":"E:\\Work\\baitap_todoapp\\backend\\src\\models\\plugins\\","sources":["index.js"],"sourcesContent":["module.exports.toJSON = require('./toJSON.plugin');\nmodule.exports.paginate = require('./paginate.plugin');\n"],"mappings":"AAAAA,MAAM,CAACC,OAAO,CAACC,MAAM,GAAGC,OAAO,CAAC,iBAAiB,CAAC;AAClDH,MAAM,CAACC,OAAO,CAACG,QAAQ,GAAGD,OAAO,CAAC,mBAAmB,CAAC","ignoreList":[]}},"mtime":1712050935889},"{\"assumptions\":{},\"sourceRoot\":\"E:\\\\Work\\\\baitap_todoapp\\\\backend\\\\src\\\\models\\\\plugins\\\\\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"E:\\\\Work\\\\baitap_todoapp\\\\backend\",\"filename\":\"E:\\\\Work\\\\baitap_todoapp\\\\backend\\\\src\\\\models\\\\plugins\\\\toJSON.plugin.js\",\"targets\":{},\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"browserslistConfigFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"E:\\\\Work\\\\baitap_todoapp\\\\backend\",\"rootMode\":\"root\",\"plugins\":[],\"presets\":[]}:7.24.3:development":{"value":{"code":"const deleteAtPath = (obj, path, index) => {\n  if (index === path.length - 1) {\n    delete obj[path[index]];\n    return;\n  }\n  deleteAtPath(obj[path[index]], path, index + 1);\n};\nconst toJSON = schema => {\n  let transform;\n  if (schema.options.toJSON && schema.options.toJSON.transform) {\n    transform = schema.options.toJSON.transform;\n  }\n  schema.options.toJSON = Object.assign(schema.options.toJSON || {}, {\n    transform(doc, ret, options) {\n      Object.keys(schema.paths).forEach(path => {\n        if (schema.paths[path].options && schema.paths[path].options.private) {\n          deleteAtPath(ret, path.split('.'), 0);\n        }\n      });\n      ret.id = ret._id.toString();\n      delete ret._id;\n      delete ret.__v;\n      delete ret.createdAt;\n      delete ret.updatedAt;\n      if (transform) {\n        return transform(doc, ret, options);\n      }\n    }\n  });\n};\nmodule.exports = toJSON;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJkZWxldGVBdFBhdGgiLCJvYmoiLCJwYXRoIiwiaW5kZXgiLCJsZW5ndGgiLCJ0b0pTT04iLCJzY2hlbWEiLCJ0cmFuc2Zvcm0iLCJvcHRpb25zIiwiT2JqZWN0IiwiYXNzaWduIiwiZG9jIiwicmV0Iiwia2V5cyIsInBhdGhzIiwiZm9yRWFjaCIsInByaXZhdGUiLCJzcGxpdCIsImlkIiwiX2lkIiwidG9TdHJpbmciLCJfX3YiLCJjcmVhdGVkQXQiLCJ1cGRhdGVkQXQiLCJtb2R1bGUiLCJleHBvcnRzIl0sInNvdXJjZVJvb3QiOiJFOlxcV29ya1xcYmFpdGFwX3RvZG9hcHBcXGJhY2tlbmRcXHNyY1xcbW9kZWxzXFxwbHVnaW5zXFwiLCJzb3VyY2VzIjpbInRvSlNPTi5wbHVnaW4uanMiXSwic291cmNlc0NvbnRlbnQiOlsiY29uc3QgZGVsZXRlQXRQYXRoID0gKG9iaiwgcGF0aCwgaW5kZXgpID0+IHtcbiAgaWYgKGluZGV4ID09PSBwYXRoLmxlbmd0aCAtIDEpIHtcbiAgICBkZWxldGUgb2JqW3BhdGhbaW5kZXhdXTtcbiAgICByZXR1cm47XG4gIH1cbiAgZGVsZXRlQXRQYXRoKG9ialtwYXRoW2luZGV4XV0sIHBhdGgsIGluZGV4ICsgMSk7XG59O1xuXG5jb25zdCB0b0pTT04gPSAoc2NoZW1hKSA9PiB7XG4gIGxldCB0cmFuc2Zvcm07XG4gIGlmIChzY2hlbWEub3B0aW9ucy50b0pTT04gJiYgc2NoZW1hLm9wdGlvbnMudG9KU09OLnRyYW5zZm9ybSkge1xuICAgIHRyYW5zZm9ybSA9IHNjaGVtYS5vcHRpb25zLnRvSlNPTi50cmFuc2Zvcm07XG4gIH1cblxuICBzY2hlbWEub3B0aW9ucy50b0pTT04gPSBPYmplY3QuYXNzaWduKHNjaGVtYS5vcHRpb25zLnRvSlNPTiB8fCB7fSwge1xuICAgIHRyYW5zZm9ybShkb2MsIHJldCwgb3B0aW9ucykge1xuICAgICAgT2JqZWN0LmtleXMoc2NoZW1hLnBhdGhzKS5mb3JFYWNoKChwYXRoKSA9PiB7XG4gICAgICAgIGlmIChzY2hlbWEucGF0aHNbcGF0aF0ub3B0aW9ucyAmJiBzY2hlbWEucGF0aHNbcGF0aF0ub3B0aW9ucy5wcml2YXRlKSB7XG4gICAgICAgICAgZGVsZXRlQXRQYXRoKHJldCwgcGF0aC5zcGxpdCgnLicpLCAwKTtcbiAgICAgICAgfVxuICAgICAgfSk7XG5cbiAgICAgIHJldC5pZCA9IHJldC5faWQudG9TdHJpbmcoKTtcbiAgICAgIGRlbGV0ZSByZXQuX2lkO1xuICAgICAgZGVsZXRlIHJldC5fX3Y7XG4gICAgICBkZWxldGUgcmV0LmNyZWF0ZWRBdDtcbiAgICAgIGRlbGV0ZSByZXQudXBkYXRlZEF0O1xuICAgICAgaWYgKHRyYW5zZm9ybSkge1xuICAgICAgICByZXR1cm4gdHJhbnNmb3JtKGRvYywgcmV0LCBvcHRpb25zKTtcbiAgICAgIH1cbiAgICB9LFxuICB9KTtcbn07XG5cbm1vZHVsZS5leHBvcnRzID0gdG9KU09OO1xuIl0sIm1hcHBpbmdzIjoiQUFBQSxNQUFNQSxZQUFZLEdBQUdBLENBQUNDLEdBQUcsRUFBRUMsSUFBSSxFQUFFQyxLQUFLLEtBQUs7RUFDekMsSUFBSUEsS0FBSyxLQUFLRCxJQUFJLENBQUNFLE1BQU0sR0FBRyxDQUFDLEVBQUU7SUFDN0IsT0FBT0gsR0FBRyxDQUFDQyxJQUFJLENBQUNDLEtBQUssQ0FBQyxDQUFDO0lBQ3ZCO0VBQ0Y7RUFDQUgsWUFBWSxDQUFDQyxHQUFHLENBQUNDLElBQUksQ0FBQ0MsS0FBSyxDQUFDLENBQUMsRUFBRUQsSUFBSSxFQUFFQyxLQUFLLEdBQUcsQ0FBQyxDQUFDO0FBQ2pELENBQUM7QUFFRCxNQUFNRSxNQUFNLEdBQUlDLE1BQU0sSUFBSztFQUN6QixJQUFJQyxTQUFTO0VBQ2IsSUFBSUQsTUFBTSxDQUFDRSxPQUFPLENBQUNILE1BQU0sSUFBSUMsTUFBTSxDQUFDRSxPQUFPLENBQUNILE1BQU0sQ0FBQ0UsU0FBUyxFQUFFO0lBQzVEQSxTQUFTLEdBQUdELE1BQU0sQ0FBQ0UsT0FBTyxDQUFDSCxNQUFNLENBQUNFLFNBQVM7RUFDN0M7RUFFQUQsTUFBTSxDQUFDRSxPQUFPLENBQUNILE1BQU0sR0FBR0ksTUFBTSxDQUFDQyxNQUFNLENBQUNKLE1BQU0sQ0FBQ0UsT0FBTyxDQUFDSCxNQUFNLElBQUksQ0FBQyxDQUFDLEVBQUU7SUFDakVFLFNBQVNBLENBQUNJLEdBQUcsRUFBRUMsR0FBRyxFQUFFSixPQUFPLEVBQUU7TUFDM0JDLE1BQU0sQ0FBQ0ksSUFBSSxDQUFDUCxNQUFNLENBQUNRLEtBQUssQ0FBQyxDQUFDQyxPQUFPLENBQUViLElBQUksSUFBSztRQUMxQyxJQUFJSSxNQUFNLENBQUNRLEtBQUssQ0FBQ1osSUFBSSxDQUFDLENBQUNNLE9BQU8sSUFBSUYsTUFBTSxDQUFDUSxLQUFLLENBQUNaLElBQUksQ0FBQyxDQUFDTSxPQUFPLENBQUNRLE9BQU8sRUFBRTtVQUNwRWhCLFlBQVksQ0FBQ1ksR0FBRyxFQUFFVixJQUFJLENBQUNlLEtBQUssQ0FBQyxHQUFHLENBQUMsRUFBRSxDQUFDLENBQUM7UUFDdkM7TUFDRixDQUFDLENBQUM7TUFFRkwsR0FBRyxDQUFDTSxFQUFFLEdBQUdOLEdBQUcsQ0FBQ08sR0FBRyxDQUFDQyxRQUFRLENBQUMsQ0FBQztNQUMzQixPQUFPUixHQUFHLENBQUNPLEdBQUc7TUFDZCxPQUFPUCxHQUFHLENBQUNTLEdBQUc7TUFDZCxPQUFPVCxHQUFHLENBQUNVLFNBQVM7TUFDcEIsT0FBT1YsR0FBRyxDQUFDVyxTQUFTO01BQ3BCLElBQUloQixTQUFTLEVBQUU7UUFDYixPQUFPQSxTQUFTLENBQUNJLEdBQUcsRUFBRUMsR0FBRyxFQUFFSixPQUFPLENBQUM7TUFDckM7SUFDRjtFQUNGLENBQUMsQ0FBQztBQUNKLENBQUM7QUFFRGdCLE1BQU0sQ0FBQ0MsT0FBTyxHQUFHcEIsTUFBTSIsImlnbm9yZUxpc3QiOltdfQ==","map":{"version":3,"names":["deleteAtPath","obj","path","index","length","toJSON","schema","transform","options","Object","assign","doc","ret","keys","paths","forEach","private","split","id","_id","toString","__v","createdAt","updatedAt","module","exports"],"sourceRoot":"E:\\Work\\baitap_todoapp\\backend\\src\\models\\plugins\\","sources":["toJSON.plugin.js"],"sourcesContent":["const deleteAtPath = (obj, path, index) => {\n  if (index === path.length - 1) {\n    delete obj[path[index]];\n    return;\n  }\n  deleteAtPath(obj[path[index]], path, index + 1);\n};\n\nconst toJSON = (schema) => {\n  let transform;\n  if (schema.options.toJSON && schema.options.toJSON.transform) {\n    transform = schema.options.toJSON.transform;\n  }\n\n  schema.options.toJSON = Object.assign(schema.options.toJSON || {}, {\n    transform(doc, ret, options) {\n      Object.keys(schema.paths).forEach((path) => {\n        if (schema.paths[path].options && schema.paths[path].options.private) {\n          deleteAtPath(ret, path.split('.'), 0);\n        }\n      });\n\n      ret.id = ret._id.toString();\n      delete ret._id;\n      delete ret.__v;\n      delete ret.createdAt;\n      delete ret.updatedAt;\n      if (transform) {\n        return transform(doc, ret, options);\n      }\n    },\n  });\n};\n\nmodule.exports = toJSON;\n"],"mappings":"AAAA,MAAMA,YAAY,GAAGA,CAACC,GAAG,EAAEC,IAAI,EAAEC,KAAK,KAAK;EACzC,IAAIA,KAAK,KAAKD,IAAI,CAACE,MAAM,GAAG,CAAC,EAAE;IAC7B,OAAOH,GAAG,CAACC,IAAI,CAACC,KAAK,CAAC,CAAC;IACvB;EACF;EACAH,YAAY,CAACC,GAAG,CAACC,IAAI,CAACC,KAAK,CAAC,CAAC,EAAED,IAAI,EAAEC,KAAK,GAAG,CAAC,CAAC;AACjD,CAAC;AAED,MAAME,MAAM,GAAIC,MAAM,IAAK;EACzB,IAAIC,SAAS;EACb,IAAID,MAAM,CAACE,OAAO,CAACH,MAAM,IAAIC,MAAM,CAACE,OAAO,CAACH,MAAM,CAACE,SAAS,EAAE;IAC5DA,SAAS,GAAGD,MAAM,CAACE,OAAO,CAACH,MAAM,CAACE,SAAS;EAC7C;EAEAD,MAAM,CAACE,OAAO,CAACH,MAAM,GAAGI,MAAM,CAACC,MAAM,CAACJ,MAAM,CAACE,OAAO,CAACH,MAAM,IAAI,CAAC,CAAC,EAAE;IACjEE,SAASA,CAACI,GAAG,EAAEC,GAAG,EAAEJ,OAAO,EAAE;MAC3BC,MAAM,CAACI,IAAI,CAACP,MAAM,CAACQ,KAAK,CAAC,CAACC,OAAO,CAAEb,IAAI,IAAK;QAC1C,IAAII,MAAM,CAACQ,KAAK,CAACZ,IAAI,CAAC,CAACM,OAAO,IAAIF,MAAM,CAACQ,KAAK,CAACZ,IAAI,CAAC,CAACM,OAAO,CAACQ,OAAO,EAAE;UACpEhB,YAAY,CAACY,GAAG,EAAEV,IAAI,CAACe,KAAK,CAAC,GAAG,CAAC,EAAE,CAAC,CAAC;QACvC;MACF,CAAC,CAAC;MAEFL,GAAG,CAACM,EAAE,GAAGN,GAAG,CAACO,GAAG,CAACC,QAAQ,CAAC,CAAC;MAC3B,OAAOR,GAAG,CAACO,GAAG;MACd,OAAOP,GAAG,CAACS,GAAG;MACd,OAAOT,GAAG,CAACU,SAAS;MACpB,OAAOV,GAAG,CAACW,SAAS;MACpB,IAAIhB,SAAS,EAAE;QACb,OAAOA,SAAS,CAACI,GAAG,EAAEC,GAAG,EAAEJ,OAAO,CAAC;MACrC;IACF;EACF,CAAC,CAAC;AACJ,CAAC;AAEDgB,MAAM,CAACC,OAAO,GAAGpB,MAAM","ignoreList":[]}},"mtime":1712546855570},"{\"assumptions\":{},\"sourceRoot\":\"E:\\\\Work\\\\baitap_todoapp\\\\backend\\\\src\\\\models\\\\plugins\\\\\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"E:\\\\Work\\\\baitap_todoapp\\\\backend\",\"filename\":\"E:\\\\Work\\\\baitap_todoapp\\\\backend\\\\src\\\\models\\\\plugins\\\\paginate.plugin.js\",\"targets\":{},\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"browserslistConfigFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"E:\\\\Work\\\\baitap_todoapp\\\\backend\",\"rootMode\":\"root\",\"plugins\":[],\"presets\":[]}:7.24.3:development":{"value":{"code":"/* eslint-disable no-param-reassign */\n\nconst paginate = schema => {\n  /**\n   * @typedef {Object} QueryResult\n   * @property {Document[]} results - Results found\n   * @property {number} page - Current page\n   * @property {number} limit - Maximum number of results per page\n   * @property {number} totalPages - Total number of pages\n   * @property {number} totalResults - Total number of documents\n   */\n  /**\n   * Query for documents with pagination\n   * @param {Object} [filter] - Mongo filter\n   * @param {Object} [options] - Query options\n   * @param {string} [options.sortBy] - Sorting criteria using the format: sortField:(desc|asc). Multiple sorting criteria should be separated by commas (,)\n   * @param {string} [options.populate] - Populate data fields. Hierarchy of fields should be separated by (.). Multiple populating criteria should be separated by commas (,)\n   * @param {number} [options.limit] - Maximum number of results per page (default = 10)\n   * @param {number} [options.page] - Current page (default = 1)\n   * @returns {Promise<QueryResult>}\n   */\n\n  schema.statics.paginate = async function (filter, options) {\n    let sort = '';\n    if (options.sortBy) {\n      const sortingCriteria = [];\n      options.sortBy.split(',').forEach(sortOption => {\n        const [key, order] = sortOption.split(':');\n        sortingCriteria.push((order === 'desc' ? '-' : '') + key);\n      });\n      sort = sortingCriteria.join(' ');\n    } else {\n      sort = 'createdAt';\n    }\n    const limit = options.limit && parseInt(options.limit, 10) > 0 ? parseInt(options.limit, 10) : 10;\n    const page = options.page && parseInt(options.page, 10) > 0 ? parseInt(options.page, 10) : 1;\n    const skip = (page - 1) * limit;\n    const countPromise = this.countDocuments(filter).exec();\n    let docsPromise = this.find(filter).sort(sort).skip(skip).limit(limit);\n    if (options.populate) {\n      options.populate.split(',').forEach(populateOption => {\n        docsPromise = docsPromise.populate(populateOption.split('.').reverse().reduce((a, b) => ({\n          path: b,\n          populate: a\n        })));\n      });\n    }\n    docsPromise = docsPromise.exec();\n    return Promise.all([countPromise, docsPromise]).then(values => {\n      const [totalResults, results] = values;\n      const totalPages = Math.ceil(totalResults / limit);\n      const result = {\n        results,\n        page,\n        limit,\n        totalPages,\n        totalResults\n      };\n      return Promise.resolve(result);\n    });\n  };\n};\nmodule.exports = paginate;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJwYWdpbmF0ZSIsInNjaGVtYSIsInN0YXRpY3MiLCJmaWx0ZXIiLCJvcHRpb25zIiwic29ydCIsInNvcnRCeSIsInNvcnRpbmdDcml0ZXJpYSIsInNwbGl0IiwiZm9yRWFjaCIsInNvcnRPcHRpb24iLCJrZXkiLCJvcmRlciIsInB1c2giLCJqb2luIiwibGltaXQiLCJwYXJzZUludCIsInBhZ2UiLCJza2lwIiwiY291bnRQcm9taXNlIiwiY291bnREb2N1bWVudHMiLCJleGVjIiwiZG9jc1Byb21pc2UiLCJmaW5kIiwicG9wdWxhdGUiLCJwb3B1bGF0ZU9wdGlvbiIsInJldmVyc2UiLCJyZWR1Y2UiLCJhIiwiYiIsInBhdGgiLCJQcm9taXNlIiwiYWxsIiwidGhlbiIsInZhbHVlcyIsInRvdGFsUmVzdWx0cyIsInJlc3VsdHMiLCJ0b3RhbFBhZ2VzIiwiTWF0aCIsImNlaWwiLCJyZXN1bHQiLCJyZXNvbHZlIiwibW9kdWxlIiwiZXhwb3J0cyJdLCJzb3VyY2VSb290IjoiRTpcXFdvcmtcXGJhaXRhcF90b2RvYXBwXFxiYWNrZW5kXFxzcmNcXG1vZGVsc1xccGx1Z2luc1xcIiwic291cmNlcyI6WyJwYWdpbmF0ZS5wbHVnaW4uanMiXSwic291cmNlc0NvbnRlbnQiOlsiLyogZXNsaW50LWRpc2FibGUgbm8tcGFyYW0tcmVhc3NpZ24gKi9cblxuY29uc3QgcGFnaW5hdGUgPSAoc2NoZW1hKSA9PiB7XG4gIC8qKlxuICAgKiBAdHlwZWRlZiB7T2JqZWN0fSBRdWVyeVJlc3VsdFxuICAgKiBAcHJvcGVydHkge0RvY3VtZW50W119IHJlc3VsdHMgLSBSZXN1bHRzIGZvdW5kXG4gICAqIEBwcm9wZXJ0eSB7bnVtYmVyfSBwYWdlIC0gQ3VycmVudCBwYWdlXG4gICAqIEBwcm9wZXJ0eSB7bnVtYmVyfSBsaW1pdCAtIE1heGltdW0gbnVtYmVyIG9mIHJlc3VsdHMgcGVyIHBhZ2VcbiAgICogQHByb3BlcnR5IHtudW1iZXJ9IHRvdGFsUGFnZXMgLSBUb3RhbCBudW1iZXIgb2YgcGFnZXNcbiAgICogQHByb3BlcnR5IHtudW1iZXJ9IHRvdGFsUmVzdWx0cyAtIFRvdGFsIG51bWJlciBvZiBkb2N1bWVudHNcbiAgICovXG4gIC8qKlxuICAgKiBRdWVyeSBmb3IgZG9jdW1lbnRzIHdpdGggcGFnaW5hdGlvblxuICAgKiBAcGFyYW0ge09iamVjdH0gW2ZpbHRlcl0gLSBNb25nbyBmaWx0ZXJcbiAgICogQHBhcmFtIHtPYmplY3R9IFtvcHRpb25zXSAtIFF1ZXJ5IG9wdGlvbnNcbiAgICogQHBhcmFtIHtzdHJpbmd9IFtvcHRpb25zLnNvcnRCeV0gLSBTb3J0aW5nIGNyaXRlcmlhIHVzaW5nIHRoZSBmb3JtYXQ6IHNvcnRGaWVsZDooZGVzY3xhc2MpLiBNdWx0aXBsZSBzb3J0aW5nIGNyaXRlcmlhIHNob3VsZCBiZSBzZXBhcmF0ZWQgYnkgY29tbWFzICgsKVxuICAgKiBAcGFyYW0ge3N0cmluZ30gW29wdGlvbnMucG9wdWxhdGVdIC0gUG9wdWxhdGUgZGF0YSBmaWVsZHMuIEhpZXJhcmNoeSBvZiBmaWVsZHMgc2hvdWxkIGJlIHNlcGFyYXRlZCBieSAoLikuIE11bHRpcGxlIHBvcHVsYXRpbmcgY3JpdGVyaWEgc2hvdWxkIGJlIHNlcGFyYXRlZCBieSBjb21tYXMgKCwpXG4gICAqIEBwYXJhbSB7bnVtYmVyfSBbb3B0aW9ucy5saW1pdF0gLSBNYXhpbXVtIG51bWJlciBvZiByZXN1bHRzIHBlciBwYWdlIChkZWZhdWx0ID0gMTApXG4gICAqIEBwYXJhbSB7bnVtYmVyfSBbb3B0aW9ucy5wYWdlXSAtIEN1cnJlbnQgcGFnZSAoZGVmYXVsdCA9IDEpXG4gICAqIEByZXR1cm5zIHtQcm9taXNlPFF1ZXJ5UmVzdWx0Pn1cbiAgICovXG4gIFxuICBzY2hlbWEuc3RhdGljcy5wYWdpbmF0ZSA9IGFzeW5jIGZ1bmN0aW9uIChmaWx0ZXIsIG9wdGlvbnMpIHtcbiAgICBsZXQgc29ydCA9ICcnO1xuICAgIGlmIChvcHRpb25zLnNvcnRCeSkge1xuICAgICAgY29uc3Qgc29ydGluZ0NyaXRlcmlhID0gW107XG4gICAgICBvcHRpb25zLnNvcnRCeS5zcGxpdCgnLCcpLmZvckVhY2goKHNvcnRPcHRpb24pID0+IHtcbiAgICAgICAgY29uc3QgW2tleSwgb3JkZXJdID0gc29ydE9wdGlvbi5zcGxpdCgnOicpO1xuICAgICAgICBzb3J0aW5nQ3JpdGVyaWEucHVzaCgob3JkZXIgPT09ICdkZXNjJyA/ICctJyA6ICcnKSArIGtleSk7XG4gICAgICB9KTtcbiAgICAgIHNvcnQgPSBzb3J0aW5nQ3JpdGVyaWEuam9pbignICcpO1xuICAgIH0gZWxzZSB7XG4gICAgICBzb3J0ID0gJ2NyZWF0ZWRBdCc7XG4gICAgfVxuXG4gICAgY29uc3QgbGltaXQgPSBvcHRpb25zLmxpbWl0ICYmIHBhcnNlSW50KG9wdGlvbnMubGltaXQsIDEwKSA+IDAgPyBwYXJzZUludChvcHRpb25zLmxpbWl0LCAxMCkgOiAxMDtcbiAgICBjb25zdCBwYWdlID0gb3B0aW9ucy5wYWdlICYmIHBhcnNlSW50KG9wdGlvbnMucGFnZSwgMTApID4gMCA/IHBhcnNlSW50KG9wdGlvbnMucGFnZSwgMTApIDogMTtcbiAgICBjb25zdCBza2lwID0gKHBhZ2UgLSAxKSAqIGxpbWl0O1xuICAgIGNvbnN0IGNvdW50UHJvbWlzZSA9IHRoaXMuY291bnREb2N1bWVudHMoZmlsdGVyKS5leGVjKCk7XG4gICAgbGV0IGRvY3NQcm9taXNlID0gdGhpcy5maW5kKGZpbHRlcikuc29ydChzb3J0KS5za2lwKHNraXApLmxpbWl0KGxpbWl0KTtcblxuICAgIGlmIChvcHRpb25zLnBvcHVsYXRlKSB7XG4gICAgICBvcHRpb25zLnBvcHVsYXRlLnNwbGl0KCcsJykuZm9yRWFjaCgocG9wdWxhdGVPcHRpb24pID0+IHtcbiAgICAgICAgZG9jc1Byb21pc2UgPSBkb2NzUHJvbWlzZS5wb3B1bGF0ZShcbiAgICAgICAgICBwb3B1bGF0ZU9wdGlvblxuICAgICAgICAgICAgLnNwbGl0KCcuJylcbiAgICAgICAgICAgIC5yZXZlcnNlKClcbiAgICAgICAgICAgIC5yZWR1Y2UoKGEsIGIpID0+ICh7IHBhdGg6IGIsIHBvcHVsYXRlOiBhIH0pKVxuICAgICAgICApO1xuICAgICAgfSk7XG4gICAgfVxuXG4gICAgZG9jc1Byb21pc2UgPSBkb2NzUHJvbWlzZS5leGVjKCk7XG5cbiAgICByZXR1cm4gUHJvbWlzZS5hbGwoW2NvdW50UHJvbWlzZSwgZG9jc1Byb21pc2VdKS50aGVuKCh2YWx1ZXMpID0+IHtcbiAgICAgIGNvbnN0IFt0b3RhbFJlc3VsdHMsIHJlc3VsdHNdID0gdmFsdWVzO1xuICAgICAgY29uc3QgdG90YWxQYWdlcyA9IE1hdGguY2VpbCh0b3RhbFJlc3VsdHMgLyBsaW1pdCk7XG4gICAgICBjb25zdCByZXN1bHQgPSB7XG4gICAgICAgIHJlc3VsdHMsXG4gICAgICAgIHBhZ2UsXG4gICAgICAgIGxpbWl0LFxuICAgICAgICB0b3RhbFBhZ2VzLFxuICAgICAgICB0b3RhbFJlc3VsdHMsXG4gICAgICB9O1xuICAgICAgcmV0dXJuIFByb21pc2UucmVzb2x2ZShyZXN1bHQpO1xuICAgIH0pO1xuICB9O1xufTtcblxubW9kdWxlLmV4cG9ydHMgPSBwYWdpbmF0ZTtcbiJdLCJtYXBwaW5ncyI6IkFBQUE7O0FBRUEsTUFBTUEsUUFBUSxHQUFJQyxNQUFNLElBQUs7RUFDM0I7QUFDRjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtFQUNFO0FBQ0Y7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztFQUVFQSxNQUFNLENBQUNDLE9BQU8sQ0FBQ0YsUUFBUSxHQUFHLGdCQUFnQkcsTUFBTSxFQUFFQyxPQUFPLEVBQUU7SUFDekQsSUFBSUMsSUFBSSxHQUFHLEVBQUU7SUFDYixJQUFJRCxPQUFPLENBQUNFLE1BQU0sRUFBRTtNQUNsQixNQUFNQyxlQUFlLEdBQUcsRUFBRTtNQUMxQkgsT0FBTyxDQUFDRSxNQUFNLENBQUNFLEtBQUssQ0FBQyxHQUFHLENBQUMsQ0FBQ0MsT0FBTyxDQUFFQyxVQUFVLElBQUs7UUFDaEQsTUFBTSxD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","map":{"version":3,"names":["paginate","schema","statics","filter","options","sort","sortBy","sortingCriteria","split","forEach","sortOption","key","order","push","join","limit","parseInt","page","skip","countPromise","countDocuments","exec","docsPromise","find","populate","populateOption","reverse","reduce","a","b","path","Promise","all","then","values","totalResults","results","totalPages","Math","ceil","result","resolve","module","exports"],"sourceRoot":"E:\\Work\\baitap_todoapp\\backend\\src\\models\\plugins\\","sources":["paginate.plugin.js"],"sourcesContent":["/* eslint-disable no-param-reassign */\n\nconst paginate = (schema) => {\n  /**\n   * @typedef {Object} QueryResult\n   * @property {Document[]} results - Results found\n   * @property {number} page - Current page\n   * @property {number} limit - Maximum number of results per page\n   * @property {number} totalPages - Total number of pages\n   * @property {number} totalResults - Total number of documents\n   */\n  /**\n   * Query for documents with pagination\n   * @param {Object} [filter] - Mongo filter\n   * @param {Object} [options] - Query options\n   * @param {string} [options.sortBy] - Sorting criteria using the format: sortField:(desc|asc). Multiple sorting criteria should be separated by commas (,)\n   * @param {string} [options.populate] - Populate data fields. Hierarchy of fields should be separated by (.). Multiple populating criteria should be separated by commas (,)\n   * @param {number} [options.limit] - Maximum number of results per page (default = 10)\n   * @param {number} [options.page] - Current page (default = 1)\n   * @returns {Promise<QueryResult>}\n   */\n  \n  schema.statics.paginate = async function (filter, options) {\n    let sort = '';\n    if (options.sortBy) {\n      const sortingCriteria = [];\n      options.sortBy.split(',').forEach((sortOption) => {\n        const [key, order] = sortOption.split(':');\n        sortingCriteria.push((order === 'desc' ? '-' : '') + key);\n      });\n      sort = sortingCriteria.join(' ');\n    } else {\n      sort = 'createdAt';\n    }\n\n    const limit = options.limit && parseInt(options.limit, 10) > 0 ? parseInt(options.limit, 10) : 10;\n    const page = options.page && parseInt(options.page, 10) > 0 ? parseInt(options.page, 10) : 1;\n    const skip = (page - 1) * limit;\n    const countPromise = this.countDocuments(filter).exec();\n    let docsPromise = this.find(filter).sort(sort).skip(skip).limit(limit);\n\n    if (options.populate) {\n      options.populate.split(',').forEach((populateOption) => {\n        docsPromise = docsPromise.populate(\n          populateOption\n            .split('.')\n            .reverse()\n            .reduce((a, b) => ({ path: b, populate: a }))\n        );\n      });\n    }\n\n    docsPromise = docsPromise.exec();\n\n    return Promise.all([countPromise, docsPromise]).then((values) => {\n      const [totalResults, results] = values;\n      const totalPages = Math.ceil(totalResults / limit);\n      const result = {\n        results,\n        page,\n        limit,\n        totalPages,\n        totalResults,\n      };\n      return Promise.resolve(result);\n    });\n  };\n};\n\nmodule.exports = paginate;\n"],"mappings":"AAAA;;AAEA,MAAMA,QAAQ,GAAIC,MAAM,IAAK;EAC3B;AACF;AACA;AACA;AACA;AACA;AACA;AACA;EACE;AACF;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;EAEEA,MAAM,CAACC,OAAO,CAACF,QAAQ,GAAG,gBAAgBG,MAAM,EAAEC,OAAO,EAAE;IACzD,IAAIC,IAAI,GAAG,EAAE;IACb,IAAID,OAAO,CAACE,MAAM,EAAE;MAClB,MAAMC,eAAe,GAAG,EAAE;MAC1BH,OAAO,CAACE,MAAM,CAACE,KAAK,CAAC,GAAG,CAAC,CAACC,OAAO,CAAEC,UAAU,IAAK;QAChD,MAAM,CAACC,GAAG,EAAEC,KAAK,CAAC,GAAGF,UAAU,CAACF,KAAK,CAAC,GAAG,CAAC;QAC1CD,eAAe,CAACM,IAAI,CAAC,CAACD,KAAK,KAAK,MAAM,GAAG,GAAG,GAAG,EAAE,IAAID,GAAG,CAAC;MAC3D,CAAC,CAAC;MACFN,IAAI,GAAGE,eAAe,CAACO,IAAI,CAAC,GAAG,CAAC;IAClC,CAAC,MAAM;MACLT,IAAI,GAAG,WAAW;IACpB;IAEA,MAAMU,KAAK,GAAGX,OAAO,CAACW,KAAK,IAAIC,QAAQ,CAACZ,OAAO,CAACW,KAAK,EAAE,EAAE,CAAC,GAAG,CAAC,GAAGC,QAAQ,CAACZ,OAAO,CAACW,KAAK,EAAE,EAAE,CAAC,GAAG,EAAE;IACjG,MAAME,IAAI,GAAGb,OAAO,CAACa,IAAI,IAAID,QAAQ,CAACZ,OAAO,CAACa,IAAI,EAAE,EAAE,CAAC,GAAG,CAAC,GAAGD,QAAQ,CAACZ,OAAO,CAACa,IAAI,EAAE,EAAE,CAAC,GAAG,CAAC;IAC5F,MAAMC,IAAI,GAAG,CAACD,IAAI,GAAG,CAAC,IAAIF,KAAK;IAC/B,MAAMI,YAAY,GAAG,IAAI,CAACC,cAAc,CAACjB,MAAM,CAAC,CAACkB,IAAI,CAAC,CAAC;IACvD,IAAIC,WAAW,GAAG,IAAI,CAACC,IAAI,CAACpB,MAAM,CAAC,CAACE,IAAI,CAACA,IAAI,CAAC,CAACa,IAAI,CAACA,IAAI,CAAC,CAACH,KAAK,CAACA,KAAK,CAAC;IAEtE,IAAIX,OAAO,CAACoB,QAAQ,EAAE;MACpBpB,OAAO,CAACoB,QAAQ,CAAChB,KAAK,CAAC,GAAG,CAAC,CAACC,OAAO,CAAEgB,cAAc,IAAK;QACtDH,WAAW,GAAGA,WAAW,CAACE,QAAQ,CAChCC,cAAc,CACXjB,KAAK,CAAC,GAAG,CAAC,CACVkB,OAAO,CAAC,CAAC,CACTC,MAAM,CAAC,CAACC,CAAC,EAAEC,CAAC,MAAM;UAAEC,IAAI,EAAED,CAAC;UAAEL,QAAQ,EAAEI;QAAE,CAAC,CAAC,CAChD,CAAC;MACH,CAAC,CAAC;IACJ;IAEAN,WAAW,GAAGA,WAAW,CAACD,IAAI,CAAC,CAAC;IAEhC,OAAOU,OAAO,CAACC,GAAG,CAAC,CAACb,YAAY,EAAEG,WAAW,CAAC,CAAC,CAACW,IAAI,CAAEC,MAAM,IAAK;MAC/D,MAAM,CAACC,YAAY,EAAEC,OAAO,CAAC,GAAGF,MAAM;MACtC,MAAMG,UAAU,GAAGC,IAAI,CAACC,IAAI,CAACJ,YAAY,GAAGpB,KAAK,CAAC;MAClD,MAAMyB,MAAM,GAAG;QACbJ,OAAO;QACPnB,IAAI;QACJF,KAAK;QACLsB,UAAU;QACVF;MACF,CAAC;MACD,OAAOJ,OAAO,CAACU,OAAO,CAACD,MAAM,CAAC;IAChC,CAAC,CAAC;EACJ,CAAC;AACH,CAAC;AAEDE,MAAM,CAACC,OAAO,GAAG3C,QAAQ","ignoreList":[]}},"mtime":1712559109298}}